<!DOCTYPE html>
<!-- saved from url=(0081)file:///H:/Dokumenter/PhD/Statistik/rprogramming/output/rprogramminglecture2.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>rprogramminglecture2</title>
<style class="anchorjs"></style><style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="./rprogramminglecture2_files/clipboard.min.js.download"></script>
<script src="./rprogramminglecture2_files/quarto.js.download"></script>
<script src="./rprogramminglecture2_files/popper.min.js.download"></script>
<script src="./rprogramminglecture2_files/tippy.umd.min.js.download"></script>
<script src="./rprogramminglecture2_files/anchor.min.js.download"></script>
<link href="./rprogramminglecture2_files/tippy.css" rel="stylesheet">
<link href="./rprogramminglecture2_files/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="./rprogramminglecture2_files/bootstrap.min.js.download"></script>
<link href="./rprogramminglecture2_files/bootstrap-icons.css" rel="stylesheet">
<link href="./rprogramminglecture2_files/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">rprogramminglecture2</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="lecture-2" class="level1">
<h1>Lecture 2</h1>
<section id="flow-control-and-loops" class="level2">
<h2 class="anchored" data-anchor-id="flow-control-and-loops">Flow Control and Loops<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#flow-control-and-loops" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="http://localhost:3191/#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">warning</span>(<span class="st">"test!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: test!</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="http://localhost:3191/#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb3-2"><a href="http://localhost:3191/#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">69420</span>) <span class="co">#nice!</span></span>
<span id="cb3-3"><a href="http://localhost:3191/#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="http://localhost:3191/#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#packages &lt;- list("here","palmerpenguins","data.table","tidyverse","dplyr")</span></span>
<span id="cb3-5"><a href="http://localhost:3191/#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#lapply(packages,FUN=install.packages) ## Knitting install.pacakges really doesnt work well.</span></span>
<span id="cb3-6"><a href="http://localhost:3191/#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"here"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: pakke 'here' blev bygget under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at H:/Dokumenter/PhD/Statistik/rprogramming</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="http://localhost:3191/#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#lapply(packages, character.only=T,FUN=library)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Conditional execution:</p>
<p>If (condition) { <operation> } Else if Else</operation></p>
<p>Flow Control:</p>
<section id="loops" class="level3">
<h3 class="anchored" data-anchor-id="loops">Loops:<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#loops" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<section id="repeat" class="level4">
<h4 class="anchored" data-anchor-id="repeat">repeat<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#repeat" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="http://localhost:3191/#cb7-1" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="dv">5</span></span>
<span id="cb7-2"><a href="http://localhost:3191/#cb7-2" aria-hidden="true" tabindex="-1"></a>iteration<span class="ot">&lt;-</span><span class="dv">0</span></span>
<span id="cb7-3"><a href="http://localhost:3191/#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span> {</span>
<span id="cb7-4"><a href="http://localhost:3191/#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (iteration <span class="sc">==</span> n){</span>
<span id="cb7-5"><a href="http://localhost:3191/#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rm</span>(iteration)</span>
<span id="cb7-6"><a href="http://localhost:3191/#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">break</span></span>
<span id="cb7-7"><a href="http://localhost:3191/#cb7-7" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb7-8"><a href="http://localhost:3191/#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"hello"</span>)</span>
<span id="cb7-9"><a href="http://localhost:3191/#cb7-9" aria-hidden="true" tabindex="-1"></a>  iteration<span class="ot">&lt;-</span>iteration<span class="sc">+</span><span class="dv">1</span>}</span>
<span id="cb7-10"><a href="http://localhost:3191/#cb7-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello"
[1] "hello"
[1] "hello"
[1] "hello"
[1] "hello"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="http://localhost:3191/#cb9-1" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="dv">5</span></span>
<span id="cb9-2"><a href="http://localhost:3191/#cb9-2" aria-hidden="true" tabindex="-1"></a>iteration<span class="ot">&lt;-</span><span class="dv">0</span></span>
<span id="cb9-3"><a href="http://localhost:3191/#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="cf">repeat</span>{</span>
<span id="cb9-4"><a href="http://localhost:3191/#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"hello"</span>)</span>
<span id="cb9-5"><a href="http://localhost:3191/#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (iteration<span class="sc">==</span><span class="dv">0</span>)</span>
<span id="cb9-6"><a href="http://localhost:3191/#cb9-6" aria-hidden="true" tabindex="-1"></a>    {<span class="cf">break</span>}</span>
<span id="cb9-7"><a href="http://localhost:3191/#cb9-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello"</code></pre>
</div>
</div>
</section>
<section id="while" class="level4">
<h4 class="anchored" data-anchor-id="while">while<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#while" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="http://localhost:3191/#cb11-1" aria-hidden="true" tabindex="-1"></a>i<span class="ot">&lt;-</span><span class="dv">1</span></span>
<span id="cb11-2"><a href="http://localhost:3191/#cb11-2" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="dv">5</span></span>
<span id="cb11-3"><a href="http://localhost:3191/#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (i <span class="sc">&lt;=</span> n){</span>
<span id="cb11-4"><a href="http://localhost:3191/#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"hello"</span>)</span>
<span id="cb11-5"><a href="http://localhost:3191/#cb11-5" aria-hidden="true" tabindex="-1"></a>  i<span class="ot">&lt;-</span>i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb11-6"><a href="http://localhost:3191/#cb11-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello"
[1] "hello"
[1] "hello"
[1] "hello"
[1] "hello"</code></pre>
</div>
</div>
</section>
<section id="for" class="level4">
<h4 class="anchored" data-anchor-id="for">for<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#for" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="http://localhost:3191/#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb13-2"><a href="http://localhost:3191/#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span> (<span class="st">"hello"</span>)</span>
<span id="cb13-3"><a href="http://localhost:3191/#cb13-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello"
[1] "hello"
[1] "hello"
[1] "hello"
[1] "hello"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="http://localhost:3191/#cb15-1" aria-hidden="true" tabindex="-1"></a>fruit<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"apples"</span>, <span class="st">"oranges"</span>, <span class="st">"lemons"</span>, <span class="st">"strawberrys"</span>,<span class="st">"rocks"</span>)</span>
<span id="cb15-2"><a href="http://localhost:3191/#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="http://localhost:3191/#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> fruit){</span>
<span id="cb15-4"><a href="http://localhost:3191/#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(i<span class="sc">==</span><span class="st">"lemons"</span>) <span class="cf">next</span></span>
<span id="cb15-5"><a href="http://localhost:3191/#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(i<span class="sc">==</span><span class="st">"rocks"</span>) {</span>
<span id="cb15-6"><a href="http://localhost:3191/#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(i, <span class="st">"aren't fruits you dummy"</span>))</span>
<span id="cb15-7"><a href="http://localhost:3191/#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">next</span></span>
<span id="cb15-8"><a href="http://localhost:3191/#cb15-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-9"><a href="http://localhost:3191/#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(i, <span class="st">"are delicious"</span>))</span>
<span id="cb15-10"><a href="http://localhost:3191/#cb15-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apples are delicious"
[1] "oranges are delicious"
[1] "strawberrys are delicious"
[1] "rocks aren't fruits you dummy"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="http://localhost:3191/#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb17-2"><a href="http://localhost:3191/#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(i<span class="sc">==</span><span class="dv">2</span>) <span class="cf">next</span></span>
<span id="cb17-3"><a href="http://localhost:3191/#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"hello"</span>, i))</span>
<span id="cb17-4"><a href="http://localhost:3191/#cb17-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "hello 1"
[1] "hello 3"
[1] "hello 4"
[1] "hello 5"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="http://localhost:3191/#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: pakke 'palmerpenguins' blev bygget under R version 4.3.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="http://localhost:3191/#cb21-1" aria-hidden="true" tabindex="-1"></a>species_names<span class="ot">&lt;-</span><span class="fu">levels</span>(penguins<span class="sc">$</span>species)</span>
<span id="cb21-2"><a href="http://localhost:3191/#cb21-2" aria-hidden="true" tabindex="-1"></a>mean_bill_length <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="fu">length</span>(species_names))</span>
<span id="cb21-3"><a href="http://localhost:3191/#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(mean_bill_length)<span class="ot">&lt;-</span> species_names</span>
<span id="cb21-4"><a href="http://localhost:3191/#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="http://localhost:3191/#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (this_species <span class="cf">in</span> species_names){</span>
<span id="cb21-6"><a href="http://localhost:3191/#cb21-6" aria-hidden="true" tabindex="-1"></a>  mean_bill_length[this_species]<span class="ot">&lt;-</span></span>
<span id="cb21-7"><a href="http://localhost:3191/#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(<span class="fu">subset</span>(penguins, species <span class="sc">==</span> this_species)<span class="sc">$</span>bill_length_mm,</span>
<span id="cb21-8"><a href="http://localhost:3191/#cb21-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">na.rm=</span>T)</span>
<span id="cb21-9"><a href="http://localhost:3191/#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="http://localhost:3191/#cb21-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb21-11"><a href="http://localhost:3191/#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mean_bill_length)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Adelie Chinstrap    Gentoo 
       39        49        48 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="http://localhost:3191/#cb23-1" aria-hidden="true" tabindex="-1"></a>mean_bill_length<span class="ot">&lt;-</span><span class="cn">NULL</span></span>
<span id="cb23-2"><a href="http://localhost:3191/#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="http://localhost:3191/#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (this_species <span class="cf">in</span> <span class="fu">levels</span>(penguins<span class="sc">$</span>species)){</span>
<span id="cb23-4"><a href="http://localhost:3191/#cb23-4" aria-hidden="true" tabindex="-1"></a>  mean_bill_length[this_species]<span class="ot">&lt;-</span></span>
<span id="cb23-5"><a href="http://localhost:3191/#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(<span class="fu">subset</span>(penguins, species <span class="sc">==</span> this_species)<span class="sc">$</span>bill_length_mm,</span>
<span id="cb23-6"><a href="http://localhost:3191/#cb23-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">na.rm=</span>T)</span>
<span id="cb23-7"><a href="http://localhost:3191/#cb23-7" aria-hidden="true" tabindex="-1"></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="bootstrap" class="level4">
<h4 class="anchored" data-anchor-id="bootstrap">bootstrap<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#bootstrap" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="http://localhost:3191/#cb24-1" aria-hidden="true" tabindex="-1"></a>n<span class="ot">=</span><span class="dv">2000</span></span>
<span id="cb24-2"><a href="http://localhost:3191/#cb24-2" aria-hidden="true" tabindex="-1"></a>mu.body_mass <span class="ot">&lt;-</span> <span class="fu">mean</span>(penguins<span class="sc">$</span>body_mass_g, <span class="at">na.rm =</span> T)</span>
<span id="cb24-3"><a href="http://localhost:3191/#cb24-3" aria-hidden="true" tabindex="-1"></a>bsmeans<span class="ot">&lt;-</span><span class="fu">vector</span>(<span class="st">"numeric"</span>, <span class="at">length =</span> n)</span>
<span id="cb24-4"><a href="http://localhost:3191/#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(bsmeans)){</span>
<span id="cb24-5"><a href="http://localhost:3191/#cb24-5" aria-hidden="true" tabindex="-1"></a>  resampled.body_mass <span class="ot">&lt;-</span> <span class="fu">sample</span>(penguins<span class="sc">$</span>body_mass_g, <span class="at">replace =</span> T)</span>
<span id="cb24-6"><a href="http://localhost:3191/#cb24-6" aria-hidden="true" tabindex="-1"></a>  bsmeans[i]<span class="ot">&lt;-</span><span class="fu">mean</span>(resampled.body_mass, <span class="at">na.rm=</span>T)</span>
<span id="cb24-7"><a href="http://localhost:3191/#cb24-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-8"><a href="http://localhost:3191/#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="http://localhost:3191/#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(bsmeans)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="./rprogramminglecture2_files/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="http://localhost:3191/#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(bsmeans,<span class="fu">c</span>(<span class="fl">0.025</span>,<span class="fl">0.975</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 2.5% 97.5% 
 4115  4285 </code></pre>
</div>
</div>
</section>
<section id="nested-loops" class="level4">
<h4 class="anchored" data-anchor-id="nested-loops">nested loops<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#nested-loops" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="http://localhost:3191/#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO create an example of a nested loop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="speeeeeed-the-problem-is-increasing-object-size-for-loops-can-be-fast-if-you-make-the-vector-first." class="level4">
<h4 class="anchored" data-anchor-id="speeeeeed-the-problem-is-increasing-object-size-for-loops-can-be-fast-if-you-make-the-vector-first.">SPEEEEEED! The problem is increasing object size, for loops can be fast if you make the vector first.<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#speeeeeed-the-problem-is-increasing-object-size-for-loops-can-be-fast-if-you-make-the-vector-first." style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="http://localhost:3191/#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO create an example of slow vs. fast code with the system.time() command</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>#Writing your own functions A Simple function (also not really a function as it doesn’t do anything to the inputs)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="http://localhost:3191/#cb29-1" aria-hidden="true" tabindex="-1"></a>hello<span class="ot">&lt;-</span> <span class="cf">function</span>(name, <span class="at">name2=</span><span class="st">"Malte"</span>){</span>
<span id="cb29-2"><a href="http://localhost:3191/#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="st">"Hello"</span>, name, <span class="st">"meet"</span>, name2)</span>
<span id="cb29-3"><a href="http://localhost:3191/#cb29-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-4"><a href="http://localhost:3191/#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hello</span>(<span class="st">"Jim"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello Jim meet Malte"</code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="exercises" class="level1">
<h1>Exercises</h1>
<p>Simple loops and conditional statements</p>
<ul>
<li><p>Use a loop to print every number from 1 to 10</p></li>
<li><p>Modify the loop to print every even number from 1 to 10 (hint: add an if statement and use (i %% 2) == 0 to check whether i is divisible by 2).</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="http://localhost:3191/#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#numbers 1 to 10</span></span>
<span id="cb31-2"><a href="http://localhost:3191/#cb31-2" aria-hidden="true" tabindex="-1"></a>maximal_number <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb31-3"><a href="http://localhost:3191/#cb31-3" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span>maximal_number</span>
<span id="cb31-4"><a href="http://localhost:3191/#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> numbers){</span>
<span id="cb31-5"><a href="http://localhost:3191/#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb31-6"><a href="http://localhost:3191/#cb31-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9
[1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="http://localhost:3191/#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#next unless even</span></span>
<span id="cb33-2"><a href="http://localhost:3191/#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> numbers){</span>
<span id="cb33-3"><a href="http://localhost:3191/#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>((i <span class="sc">%%</span> <span class="dv">2</span>) <span class="sc">==</span> <span class="dv">0</span> ){<span class="fu">print</span>(i)}</span>
<span id="cb33-4"><a href="http://localhost:3191/#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>{</span>
<span id="cb33-5"><a href="http://localhost:3191/#cb33-5" aria-hidden="true" tabindex="-1"></a>      <span class="cf">next</span></span>
<span id="cb33-6"><a href="http://localhost:3191/#cb33-6" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb33-7"><a href="http://localhost:3191/#cb33-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2
[1] 4
[1] 6
[1] 8
[1] 10</code></pre>
</div>
</div>
<p>Loops for statistical analysis Load the palmerpenguins dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="http://localhost:3191/#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb35-2"><a href="http://localhost:3191/#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(penguins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
1 Adelie  Torgersen           39.1          18.7               181        3750
2 Adelie  Torgersen           39.5          17.4               186        3800
3 Adelie  Torgersen           40.3          18                 195        3250
4 Adelie  Torgersen           NA            NA                  NA          NA
5 Adelie  Torgersen           36.7          19.3               193        3450
6 Adelie  Torgersen           39.3          20.6               190        3650
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
<p>###1 Write a loop that calculates and prints out the mean for each numeric variable in the penguins dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="http://localhost:3191/#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: pakke 'dplyr' blev bygget under R version 4.3.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Vedhæfter pakke: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>De følgende objekter er maskerede fra 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>De følgende objekter er maskerede fra 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="http://localhost:3191/#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO check if the variable is numeric</span></span>
<span id="cb42-2"><a href="http://localhost:3191/#cb42-2" aria-hidden="true" tabindex="-1"></a>num.penguins_variables <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span><span class="fu">as.list</span>()</span>
<span id="cb42-3"><a href="http://localhost:3191/#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co">#n&lt;-length(num.penguins_variables)</span></span>
<span id="cb42-4"><a href="http://localhost:3191/#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co">#out&lt;-NULL</span></span>
<span id="cb42-5"><a href="http://localhost:3191/#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co">#names.num.penguins_variables &lt;- colnames(num.penguins_variables)</span></span>
<span id="cb42-6"><a href="http://localhost:3191/#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co">#nona_mean &lt;- function(x){</span></span>
<span id="cb42-7"><a href="http://localhost:3191/#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  mean(x,na.rm=T)</span></span>
<span id="cb42-8"><a href="http://localhost:3191/#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span>
<span id="cb42-9"><a href="http://localhost:3191/#cb42-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-10"><a href="http://localhost:3191/#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO calculate the mean</span></span>
<span id="cb42-11"><a href="http://localhost:3191/#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="co">#for (i in num.penguins_variables){</span></span>
<span id="cb42-12"><a href="http://localhost:3191/#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  out[i]&lt;-</span></span>
<span id="cb42-13"><a href="http://localhost:3191/#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean(na.rm=T)</span></span>
<span id="cb42-14"><a href="http://localhost:3191/#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span>
<span id="cb42-15"><a href="http://localhost:3191/#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO print the mean</span></span>
<span id="cb42-16"><a href="http://localhost:3191/#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="co">#print(out)</span></span>
<span id="cb42-17"><a href="http://localhost:3191/#cb42-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-18"><a href="http://localhost:3191/#cb42-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-19"><a href="http://localhost:3191/#cb42-19" aria-hidden="true" tabindex="-1"></a><span class="co">#penguins%&gt;%select(colnames(num.penguins_variables)[2])%&gt;%nona_mean()</span></span>
<span id="cb42-20"><a href="http://localhost:3191/#cb42-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-21"><a href="http://localhost:3191/#cb42-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-22"><a href="http://localhost:3191/#cb42-22" aria-hidden="true" tabindex="-1"></a>variables<span class="ot">&lt;-</span> <span class="fu">as.list</span>(penguins)</span>
<span id="cb42-23"><a href="http://localhost:3191/#cb42-23" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(variables)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "species"           "island"            "bill_length_mm"   
[4] "bill_depth_mm"     "flipper_length_mm" "body_mass_g"      
[7] "sex"               "year"             </code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="http://localhost:3191/#cb44-1" aria-hidden="true" tabindex="-1"></a>list_mean<span class="ot">&lt;-</span><span class="fu">colnames</span>(variables)</span>
<span id="cb44-2"><a href="http://localhost:3191/#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="http://localhost:3191/#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="http://localhost:3191/#cb44-4" aria-hidden="true" tabindex="-1"></a>j <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb44-5"><a href="http://localhost:3191/#cb44-5" aria-hidden="true" tabindex="-1"></a>k<span class="ot">&lt;-</span><span class="dv">1</span></span>
<span id="cb44-6"><a href="http://localhost:3191/#cb44-6" aria-hidden="true" tabindex="-1"></a>means<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb44-7"><a href="http://localhost:3191/#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> variables){</span>
<span id="cb44-8"><a href="http://localhost:3191/#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(i)){</span>
<span id="cb44-9"><a href="http://localhost:3191/#cb44-9" aria-hidden="true" tabindex="-1"></a>    means[j]<span class="ot">&lt;-</span><span class="fu">mean</span>(i, <span class="at">na.rm=</span>T)</span>
<span id="cb44-10"><a href="http://localhost:3191/#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(means)[j]<span class="ot">&lt;-</span><span class="fu">names</span>(variables)[k]</span>
<span id="cb44-11"><a href="http://localhost:3191/#cb44-11" aria-hidden="true" tabindex="-1"></a>    j <span class="ot">&lt;-</span> j<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb44-12"><a href="http://localhost:3191/#cb44-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb44-13"><a href="http://localhost:3191/#cb44-13" aria-hidden="true" tabindex="-1"></a>  k <span class="ot">&lt;-</span> k<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb44-14"><a href="http://localhost:3191/#cb44-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-15"><a href="http://localhost:3191/#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(means)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   bill_length_mm     bill_depth_mm flipper_length_mm       body_mass_g 
               44                17               201              4202 
             year 
             2008 </code></pre>
</div>
</div>
<section id="modify-your-loop" class="level3">
<h3 class="anchored" data-anchor-id="modify-your-loop">2. Modify your loop<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="" href="http://localhost:3191/#modify-your-loop" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>in 1 so that it prints out the mean, standard deviation, median, and interquartile range for each numeric variable in penguins.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="http://localhost:3191/#cb46-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb46-2"><a href="http://localhost:3191/#cb46-2" aria-hidden="true" tabindex="-1"></a>variable <span class="ot">&lt;-</span> penguins<span class="sc">|&gt;</span><span class="fu">select_if</span>(is.numeric)<span class="sc">|&gt;</span><span class="fu">colnames</span>()</span>
<span id="cb46-3"><a href="http://localhost:3191/#cb46-3" aria-hidden="true" tabindex="-1"></a>means<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb46-4"><a href="http://localhost:3191/#cb46-4" aria-hidden="true" tabindex="-1"></a>sd<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb46-5"><a href="http://localhost:3191/#cb46-5" aria-hidden="true" tabindex="-1"></a>median<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb46-6"><a href="http://localhost:3191/#cb46-6" aria-hidden="true" tabindex="-1"></a>lower_quartile<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb46-7"><a href="http://localhost:3191/#cb46-7" aria-hidden="true" tabindex="-1"></a>higher_quartile<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb46-8"><a href="http://localhost:3191/#cb46-8" aria-hidden="true" tabindex="-1"></a>results<span class="ot">&lt;-</span><span class="fu">data.frame</span>(n,variable,means,sd,median,lower_quartile,higher_quartile)</span>
<span id="cb46-9"><a href="http://localhost:3191/#cb46-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-10"><a href="http://localhost:3191/#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(n <span class="cf">in</span> results<span class="sc">$</span>n){</span>
<span id="cb46-11"><a href="http://localhost:3191/#cb46-11" aria-hidden="true" tabindex="-1"></a>    results<span class="sc">$</span>means[n] <span class="ot">&lt;-</span> <span class="fu">mean</span>(</span>
<span id="cb46-12"><a href="http://localhost:3191/#cb46-12" aria-hidden="true" tabindex="-1"></a>      penguins[[<span class="fu">which</span>(<span class="fu">colnames</span>(penguins) <span class="sc">==</span> results<span class="sc">$</span>variable[n])]], </span>
<span id="cb46-13"><a href="http://localhost:3191/#cb46-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> T)</span>
<span id="cb46-14"><a href="http://localhost:3191/#cb46-14" aria-hidden="true" tabindex="-1"></a>    results<span class="sc">$</span>sd[n] <span class="ot">&lt;-</span> <span class="fu">sd</span>(</span>
<span id="cb46-15"><a href="http://localhost:3191/#cb46-15" aria-hidden="true" tabindex="-1"></a>      penguins[[<span class="fu">which</span>(<span class="fu">colnames</span>(penguins) <span class="sc">==</span> results<span class="sc">$</span>variable[n])]], </span>
<span id="cb46-16"><a href="http://localhost:3191/#cb46-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> T)</span>
<span id="cb46-17"><a href="http://localhost:3191/#cb46-17" aria-hidden="true" tabindex="-1"></a>    results<span class="sc">$</span>median[n] <span class="ot">&lt;-</span> <span class="fu">median</span>(</span>
<span id="cb46-18"><a href="http://localhost:3191/#cb46-18" aria-hidden="true" tabindex="-1"></a>      penguins[[<span class="fu">which</span>(<span class="fu">colnames</span>(penguins) <span class="sc">==</span> results<span class="sc">$</span>variable[n])]], </span>
<span id="cb46-19"><a href="http://localhost:3191/#cb46-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> T)</span>
<span id="cb46-20"><a href="http://localhost:3191/#cb46-20" aria-hidden="true" tabindex="-1"></a>    results<span class="sc">$</span>lower_quartile[n] <span class="ot">&lt;-</span> <span class="fu">quantile</span>(</span>
<span id="cb46-21"><a href="http://localhost:3191/#cb46-21" aria-hidden="true" tabindex="-1"></a>      penguins[[<span class="fu">which</span>(<span class="fu">colnames</span>(penguins) <span class="sc">==</span> results<span class="sc">$</span>variable[n])]], </span>
<span id="cb46-22"><a href="http://localhost:3191/#cb46-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> T, <span class="at">probs =</span> <span class="fl">0.25</span>)</span>
<span id="cb46-23"><a href="http://localhost:3191/#cb46-23" aria-hidden="true" tabindex="-1"></a>    results<span class="sc">$</span>higher_quartile[n] <span class="ot">&lt;-</span> <span class="fu">quantile</span>(</span>
<span id="cb46-24"><a href="http://localhost:3191/#cb46-24" aria-hidden="true" tabindex="-1"></a>      penguins[[<span class="fu">which</span>(<span class="fu">colnames</span>(penguins) <span class="sc">==</span> results<span class="sc">$</span>variable[n])]], </span>
<span id="cb46-25"><a href="http://localhost:3191/#cb46-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> T, <span class="at">probs =</span> <span class="fl">0.75</span>)</span>
<span id="cb46-26"><a href="http://localhost:3191/#cb46-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-27"><a href="http://localhost:3191/#cb46-27" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  n          variable means     sd median lower_quartile higher_quartile
1 1    bill_length_mm    44   5.46     44             39              48
2 2     bill_depth_mm    17   1.97     17             16              19
3 3 flipper_length_mm   201  14.06    197            190             213
4 4       body_mass_g  4202 801.95   4050           3550            4750
5 5              year  2008   0.82   2008           2007            2009</code></pre>
</div>
</div>
<p>###3 Write a bootstrap loop to compute 500 bootstrap replicates of the means of bill length, bill depth, and flipper length. Remember to pre-allocate a data structure to store the 500 times 3 values. Provide an estimate of the correlation of the sample means.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="http://localhost:3191/#cb48-1" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">500</span></span>
<span id="cb48-2"><a href="http://localhost:3191/#cb48-2" aria-hidden="true" tabindex="-1"></a>bill.length.mean <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb48-3"><a href="http://localhost:3191/#cb48-3" aria-hidden="true" tabindex="-1"></a>bill.depth.mean <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb48-4"><a href="http://localhost:3191/#cb48-4" aria-hidden="true" tabindex="-1"></a>flipper.length.mean<span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb48-5"><a href="http://localhost:3191/#cb48-5" aria-hidden="true" tabindex="-1"></a>boot.data<span class="ot">&lt;-</span><span class="fu">data.frame</span>(n,bill.length.mean,bill.depth.mean,flipper.length.mean)</span>
<span id="cb48-6"><a href="http://localhost:3191/#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="http://localhost:3191/#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (n <span class="cf">in</span> boot.data<span class="sc">$</span>n) {</span>
<span id="cb48-8"><a href="http://localhost:3191/#cb48-8" aria-hidden="true" tabindex="-1"></a>  boot.data<span class="sc">$</span>bill.length.mean[n]<span class="ot">&lt;-</span><span class="fu">sample</span>(</span>
<span id="cb48-9"><a href="http://localhost:3191/#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> penguins<span class="sc">$</span>bill_length_mm,</span>
<span id="cb48-10"><a href="http://localhost:3191/#cb48-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fu">length</span>(penguins<span class="sc">$</span>bill_length_mm),</span>
<span id="cb48-11"><a href="http://localhost:3191/#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">replace =</span> T)<span class="sc">|&gt;</span><span class="fu">mean</span>(<span class="at">na.rm=</span>T)</span>
<span id="cb48-12"><a href="http://localhost:3191/#cb48-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-13"><a href="http://localhost:3191/#cb48-13" aria-hidden="true" tabindex="-1"></a>  boot.data<span class="sc">$</span>bill.depth.mean[n]<span class="ot">&lt;-</span><span class="fu">sample</span>(</span>
<span id="cb48-14"><a href="http://localhost:3191/#cb48-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> penguins<span class="sc">$</span>bill_depth_mm,</span>
<span id="cb48-15"><a href="http://localhost:3191/#cb48-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fu">length</span>(penguins<span class="sc">$</span>bill_depth_mm),<span class="at">replace =</span> T)<span class="sc">|&gt;</span></span>
<span id="cb48-16"><a href="http://localhost:3191/#cb48-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mean</span>(<span class="at">na.rm=</span>T)</span>
<span id="cb48-17"><a href="http://localhost:3191/#cb48-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-18"><a href="http://localhost:3191/#cb48-18" aria-hidden="true" tabindex="-1"></a>  boot.data<span class="sc">$</span>flipper.length.mean[n]<span class="ot">&lt;-</span><span class="fu">sample</span>(</span>
<span id="cb48-19"><a href="http://localhost:3191/#cb48-19" aria-hidden="true" tabindex="-1"></a>    penguins<span class="sc">$</span>flipper_length_mm,</span>
<span id="cb48-20"><a href="http://localhost:3191/#cb48-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">size=</span><span class="fu">length</span>(penguins<span class="sc">$</span>flipper_length_mm),<span class="at">replace =</span> T)<span class="sc">|&gt;</span></span>
<span id="cb48-21"><a href="http://localhost:3191/#cb48-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(<span class="at">na.rm=</span>T)</span>
<span id="cb48-22"><a href="http://localhost:3191/#cb48-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-23"><a href="http://localhost:3191/#cb48-23" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(boot.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      n bill.length.mean bill.depth.mean flipper.length.mean
1     1               44              17                 201
2     2               44              17                 201
3     3               44              17                 201
4     4               44              17                 201
5     5               44              17                 200
6     6               44              17                 201
7     7               44              17                 201
8     8               44              17                 202
9     9               44              17                 202
10   10               44              17                 200
11   11               44              17                 201
12   12               44              17                 201
13   13               44              17                 201
14   14               44              17                 203
15   15               44              17                 201
16   16               44              17                 200
17   17               44              17                 201
18   18               44              17                 202
19   19               44              17                 200
20   20               44              17                 202
21   21               44              17                 201
22   22               44              17                 200
23   23               44              17                 200
24   24               44              17                 201
25   25               43              17                 201
26   26               44              17                 200
27   27               44              17                 201
28   28               43              17                 200
29   29               44              17                 202
30   30               44              17                 201
31   31               44              17                 201
32   32               44              17                 201
33   33               44              17                 201
34   34               44              17                 202
35   35               44              17                 200
36   36               44              17                 201
37   37               44              17                 201
38   38               44              17                 202
39   39               44              17                 200
40   40               44              17                 200
41   41               44              17                 202
42   42               44              17                 202
43   43               44              17                 199
44   44               44              17                 201
45   45               44              17                 201
46   46               44              17                 200
47   47               44              17                 200
48   48               43              17                 200
49   49               44              17                 202
50   50               44              17                 201
51   51               44              17                 200
52   52               44              17                 202
53   53               43              17                 201
54   54               44              17                 202
55   55               44              17                 200
56   56               44              17                 199
57   57               44              17                 202
58   58               44              17                 201
59   59               44              17                 200
60   60               44              17                 201
61   61               44              17                 201
62   62               45              17                 201
63   63               44              17                 200
64   64               44              17                 201
65   65               44              17                 202
66   66               44              17                 201
67   67               44              17                 200
68   68               44              17                 201
69   69               44              17                 200
70   70               44              17                 202
71   71               44              17                 201
72   72               44              17                 200
73   73               44              17                 202
74   74               44              17                 201
75   75               44              17                 201
76   76               44              17                 202
77   77               44              17                 200
78   78               44              17                 201
79   79               44              17                 200
80   80               44              17                 201
81   81               43              17                 200
82   82               44              17                 202
83   83               44              17                 200
84   84               44              17                 201
85   85               44              17                 200
86   86               44              17                 202
87   87               44              17                 201
88   88               44              17                 200
89   89               44              17                 202
90   90               44              17                 201
91   91               44              17                 200
92   92               44              17                 202
93   93               44              17                 200
94   94               44              17                 200
95   95               44              17                 202
96   96               44              17                 201
97   97               44              17                 201
98   98               44              17                 200
99   99               44              17                 200
100 100               44              17                 201
101 101               44              17                 201
102 102               44              17                 202
103 103               44              17                 201
104 104               44              17                 200
105 105               43              17                 200
106 106               44              17                 200
107 107               44              17                 202
108 108               43              17                 201
109 109               44              17                 201
110 110               44              17                 200
111 111               44              17                 201
112 112               44              17                 201
113 113               43              17                 201
114 114               44              17                 200
115 115               44              17                 200
116 116               44              17                 201
117 117               44              17                 200
118 118               44              17                 201
119 119               44              17                 201
120 120               44              17                 200
121 121               44              17                 200
122 122               44              17                 201
123 123               44              17                 201
124 124               44              17                 202
125 125               44              17                 200
126 126               44              17                 200
127 127               44              17                 201
128 128               44              17                 201
129 129               44              17                 201
130 130               44              17                 200
131 131               44              17                 201
132 132               44              17                 202
133 133               44              17                 200
134 134               44              17                 203
135 135               44              17                 201
136 136               44              17                 199
137 137               44              17                 202
138 138               43              17                 201
139 139               44              17                 200
140 140               44              17                 200
141 141               45              17                 202
142 142               44              17                 202
143 143               44              17                 202
144 144               43              17                 202
145 145               44              17                 201
146 146               44              17                 201
147 147               44              17                 199
148 148               44              17                 201
149 149               44              17                 201
150 150               44              17                 201
151 151               44              17                 203
152 152               44              17                 201
153 153               44              17                 201
154 154               44              17                 201
155 155               44              17                 201
156 156               44              17                 200
157 157               44              17                 201
158 158               44              17                 202
159 159               44              17                 201
160 160               44              17                 201
161 161               44              17                 201
162 162               44              17                 202
163 163               44              17                 200
164 164               45              17                 202
165 165               44              17                 201
166 166               43              17                 201
167 167               44              17                 200
168 168               44              17                 200
169 169               44              17                 200
170 170               44              17                 201
171 171               44              17                 201
172 172               44              17                 200
173 173               44              17                 201
174 174               43              17                 201
175 175               44              17                 200
176 176               44              17                 201
177 177               44              17                 201
178 178               43              17                 200
179 179               44              17                 201
180 180               44              17                 201
181 181               44              17                 201
182 182               44              17                 201
183 183               44              17                 200
184 184               44              17                 201
185 185               44              17                 201
186 186               43              17                 201
187 187               44              17                 200
188 188               44              17                 200
189 189               44              17                 201
190 190               44              17                 201
191 191               44              17                 201
192 192               44              17                 199
193 193               44              17                 200
194 194               44              17                 201
195 195               44              17                 202
196 196               44              17                 201
197 197               44              17                 201
198 198               44              17                 201
199 199               44              17                 200
200 200               44              17                 201
201 201               44              17                 200
202 202               44              17                 201
203 203               44              17                 200
204 204               44              17                 201
205 205               44              17                 200
206 206               44              17                 200
207 207               45              17                 202
208 208               44              17                 201
209 209               44              17                 202
210 210               44              17                 202
211 211               44              17                 201
212 212               44              17                 202
213 213               44              17                 201
214 214               44              17                 201
215 215               44              17                 200
216 216               44              17                 200
217 217               44              17                 201
218 218               44              17                 201
219 219               44              17                 201
220 220               44              17                 199
221 221               44              17                 201
222 222               44              17                 200
223 223               44              17                 201
224 224               44              17                 201
225 225               44              17                 200
226 226               44              17                 200
227 227               44              17                 202
228 228               44              17                 199
229 229               44              17                 201
230 230               43              17                 200
231 231               44              17                 201
232 232               44              17                 201
233 233               44              17                 201
234 234               44              17                 201
235 235               43              17                 201
236 236               44              17                 201
237 237               44              17                 200
238 238               44              17                 201
239 239               44              17                 200
240 240               44              17                 201
241 241               44              17                 201
242 242               44              17                 200
243 243               44              17                 200
244 244               44              17                 201
245 245               43              17                 200
246 246               44              17                 200
247 247               44              17                 201
248 248               43              17                 202
249 249               44              17                 202
250 250               44              17                 200
251 251               44              17                 200
252 252               43              17                 200
253 253               44              17                 199
254 254               44              17                 201
255 255               44              17                 201
256 256               44              17                 200
257 257               44              17                 202
258 258               44              17                 200
259 259               44              17                 202
260 260               44              17                 202
261 261               44              17                 200
262 262               44              17                 201
263 263               44              17                 201
264 264               44              17                 200
265 265               44              17                 201
266 266               44              17                 201
267 267               44              17                 202
268 268               44              17                 201
269 269               44              17                 200
270 270               44              17                 201
271 271               43              17                 200
272 272               43              17                 200
273 273               44              17                 201
274 274               44              17                 202
275 275               44              17                 202
276 276               44              17                 201
277 277               44              17                 201
278 278               44              17                 202
279 279               44              17                 201
280 280               44              17                 201
281 281               44              17                 201
282 282               44              17                 200
283 283               45              17                 201
284 284               44              17                 202
285 285               44              17                 201
286 286               44              17                 200
287 287               44              17                 200
288 288               44              17                 200
289 289               44              17                 201
290 290               44              17                 201
291 291               44              17                 202
292 292               43              17                 201
293 293               44              17                 201
294 294               44              17                 201
295 295               44              17                 202
296 296               44              17                 202
297 297               44              17                 201
298 298               44              17                 200
299 299               44              17                 201
300 300               44              17                 201
301 301               45              17                 200
302 302               44              17                 201
303 303               44              17                 200
304 304               44              17                 200
305 305               44              17                 201
306 306               44              17                 200
307 307               44              17                 201
308 308               44              17                 200
309 309               43              17                 200
310 310               44              17                 201
311 311               44              17                 201
312 312               44              17                 200
313 313               44              17                 200
314 314               44              17                 201
315 315               44              17                 201
316 316               44              17                 201
317 317               44              17                 202
318 318               43              17                 199
319 319               44              17                 201
320 320               44              17                 201
321 321               44              17                 200
322 322               44              17                 201
323 323               44              17                 202
324 324               44              17                 202
325 325               44              17                 198
326 326               44              17                 201
327 327               44              17                 200
328 328               44              17                 202
329 329               44              17                 202
330 330               44              17                 202
331 331               44              17                 202
332 332               44              17                 199
333 333               44              17                 201
334 334               44              17                 201
335 335               44              17                 201
336 336               44              17                 201
337 337               44              17                 201
338 338               44              17                 201
339 339               44              17                 202
340 340               44              17                 201
341 341               44              17                 201
342 342               44              17                 202
343 343               44              17                 200
344 344               44              17                 201
345 345               44              17                 201
346 346               44              17                 200
347 347               44              17                 201
348 348               44              17                 200
349 349               44              17                 200
350 350               44              17                 200
351 351               44              17                 201
352 352               44              17                 201
353 353               44              17                 200
354 354               44              17                 201
355 355               44              17                 202
356 356               44              17                 202
357 357               44              17                 200
358 358               44              17                 200
359 359               44              17                 201
360 360               44              17                 201
361 361               44              17                 203
362 362               44              17                 201
363 363               44              17                 200
364 364               44              17                 200
365 365               43              17                 200
366 366               43              17                 201
367 367               44              17                 200
368 368               44              17                 200
369 369               44              17                 200
370 370               44              17                 201
371 371               44              17                 201
372 372               44              17                 202
373 373               44              17                 200
374 374               44              17                 201
375 375               44              17                 201
376 376               44              17                 202
377 377               43              17                 202
378 378               44              17                 201
379 379               43              17                 201
380 380               44              17                 200
381 381               44              17                 201
382 382               44              17                 202
383 383               44              17                 201
384 384               44              17                 201
385 385               44              17                 200
386 386               44              17                 201
387 387               44              17                 201
388 388               43              17                 201
389 389               44              17                 200
390 390               44              17                 201
391 391               44              17                 201
392 392               44              17                 201
393 393               44              17                 201
394 394               44              17                 199
395 395               44              17                 200
396 396               44              17                 201
397 397               44              17                 202
398 398               44              17                 200
399 399               44              17                 200
400 400               44              17                 201
401 401               44              17                 200
402 402               44              17                 201
403 403               44              17                 201
404 404               43              17                 202
405 405               44              17                 201
406 406               44              17                 201
407 407               44              17                 201
408 408               44              17                 201
409 409               44              17                 201
410 410               44              17                 200
411 411               45              17                 201
412 412               44              17                 200
413 413               44              17                 202
414 414               44              17                 201
415 415               44              17                 201
416 416               44              17                 201
417 417               44              17                 201
418 418               44              17                 201
419 419               44              17                 200
420 420               44              17                 200
421 421               44              17                 201
422 422               44              17                 202
423 423               44              17                 201
424 424               45              17                 200
425 425               44              17                 200
426 426               44              17                 200
427 427               44              17                 201
428 428               44              17                 200
429 429               44              17                 201
430 430               44              17                 201
431 431               44              17                 202
432 432               44              17                 201
433 433               44              17                 200
434 434               44              17                 200
435 435               44              17                 201
436 436               43              17                 201
437 437               44              17                 199
438 438               44              17                 200
439 439               44              17                 201
440 440               44              17                 200
441 441               44              17                 201
442 442               44              17                 202
443 443               44              17                 201
444 444               44              17                 201
445 445               44              17                 200
446 446               44              17                 202
447 447               44              17                 202
448 448               44              17                 201
449 449               44              17                 201
450 450               43              17                 201
451 451               43              17                 201
452 452               44              17                 200
453 453               44              17                 201
454 454               44              17                 202
455 455               44              17                 202
456 456               44              17                 200
457 457               44              17                 201
458 458               44              17                 200
459 459               44              17                 201
460 460               44              17                 201
461 461               43              17                 201
462 462               44              17                 201
463 463               44              17                 201
464 464               44              17                 202
465 465               44              17                 202
466 466               44              17                 200
467 467               44              17                 201
468 468               44              17                 201
469 469               44              17                 202
470 470               44              17                 201
471 471               43              17                 201
472 472               44              17                 201
473 473               44              17                 200
474 474               44              17                 202
475 475               44              17                 201
476 476               44              17                 201
477 477               44              17                 201
478 478               44              17                 201
479 479               44              17                 201
480 480               44              17                 202
481 481               44              17                 200
482 482               43              17                 199
483 483               44              17                 200
484 484               44              17                 200
485 485               44              17                 200
486 486               44              17                 201
487 487               44              17                 202
488 488               44              17                 201
489 489               44              17                 200
490 490               44              17                 203
491 491               44              17                 201
492 492               44              17                 202
493 493               44              17                 202
494 494               44              17                 200
495 495               44              17                 201
496 496               44              17                 201
497 497               44              17                 200
498 498               44              17                 200
499 499               44              17                 201
500 500               44              17                 201</code></pre>
</div>
</div>
<p>###4 Write a loop that contains an if then else statement that goes through the variables in penguins and replaces missing values with the mean for numeric double variables, and the most frequent value for characters or factors. Hints Use this function to calculate the mode in a way that returns the same data type. my_mode &lt;- function(x) {</p>
<p>converter &lt;- get(paste0(“as.”, class(x))) tab &lt;- table(x) |&gt; sort(decreasing = TRUE) names(tab)[1] |&gt; converter()</p>
<p>}</p>
<p>Inside the loop you will need to check whether the variable is of type “double”. Do this using the is.double function, which returns a TRUE or FALSE. To assign a new value m to only the missing elements of a vector x, you can do the following x[is.na(x)] &lt;- m. Refer to the data structures lecture for information about indexing vectors</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="http://localhost:3191/#cb50-1" aria-hidden="true" tabindex="-1"></a>penguins2<span class="ot">&lt;-</span>penguins</span>
<span id="cb50-2"><a href="http://localhost:3191/#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co">#penguins2$n&lt;-rownames(penguins)</span></span>
<span id="cb50-3"><a href="http://localhost:3191/#cb50-3" aria-hidden="true" tabindex="-1"></a>penguins2.num.variables <span class="ot">&lt;-</span> penguins2 <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span>
<span id="cb50-4"><a href="http://localhost:3191/#cb50-4" aria-hidden="true" tabindex="-1"></a>penguins2.num.variables<span class="sc">$</span>imputed <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb50-5"><a href="http://localhost:3191/#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co">#penguins.num.var&lt;-penguins|&gt;select_if(is.numeric)|&gt;colnames()</span></span>
<span id="cb50-6"><a href="http://localhost:3191/#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="http://localhost:3191/#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO a nested loop, going through each variable, n times.</span></span>
<span id="cb50-8"><a href="http://localhost:3191/#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  for (variable in penguins.num.var){</span></span>
<span id="cb50-9"><a href="http://localhost:3191/#cb50-9" aria-hidden="true" tabindex="-1"></a> <span class="co">#   print(variable)</span></span>
<span id="cb50-10"><a href="http://localhost:3191/#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#  for (n in penguins2$n) {print(n)}</span></span>
<span id="cb50-11"><a href="http://localhost:3191/#cb50-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-12"><a href="http://localhost:3191/#cb50-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb50-13"><a href="http://localhost:3191/#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(penguins2.num.variables)){</span>
<span id="cb50-14"><a href="http://localhost:3191/#cb50-14" aria-hidden="true" tabindex="-1"></a>  penguins2.num.variables[<span class="fu">is.na</span>(penguins2.num.variables[,i]), i] <span class="ot">&lt;-</span> </span>
<span id="cb50-15"><a href="http://localhost:3191/#cb50-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mean</span>(penguins2.num.variables[,i], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb50-16"><a href="http://localhost:3191/#cb50-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in mean.default(penguins2.num.variables[, i], na.rm = TRUE): argument
er ikke numerisk eller logisk: returnerer NA

Warning in mean.default(penguins2.num.variables[, i], na.rm = TRUE): argument
er ikke numerisk eller logisk: returnerer NA

Warning in mean.default(penguins2.num.variables[, i], na.rm = TRUE): argument
er ikke numerisk eller logisk: returnerer NA

Warning in mean.default(penguins2.num.variables[, i], na.rm = TRUE): argument
er ikke numerisk eller logisk: returnerer NA

Warning in mean.default(penguins2.num.variables[, i], na.rm = TRUE): argument
er ikke numerisk eller logisk: returnerer NA

Warning in mean.default(penguins2.num.variables[, i], na.rm = TRUE): argument
er ikke numerisk eller logisk: returnerer NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="http://localhost:3191/#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Hmmm I can't get this working. I'll test it for a variable and then I'll try to make that into a loop, ok so if I index with double brackets I get a list, and then I can go to the i-th position of that list, so this should work: </span></span>
<span id="cb52-2"><a href="http://localhost:3191/#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="http://localhost:3191/#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (variable <span class="cf">in</span> <span class="fu">colnames</span>(penguins2.num.variables)){</span>
<span id="cb52-4"><a href="http://localhost:3191/#cb52-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-5"><a href="http://localhost:3191/#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(penguins2.num.variables[[variable]])){</span>
<span id="cb52-6"><a href="http://localhost:3191/#cb52-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-7"><a href="http://localhost:3191/#cb52-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.na</span>(penguins2.num.variables[[variable]][i])){</span>
<span id="cb52-8"><a href="http://localhost:3191/#cb52-8" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb52-9"><a href="http://localhost:3191/#cb52-9" aria-hidden="true" tabindex="-1"></a>      penguins2.num.variables[[variable]][i] <span class="ot">&lt;-</span></span>
<span id="cb52-10"><a href="http://localhost:3191/#cb52-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mean</span>(penguins2.num.variables[[variable]],<span class="at">na.rm=</span>T)</span>
<span id="cb52-11"><a href="http://localhost:3191/#cb52-11" aria-hidden="true" tabindex="-1"></a>      penguins2.num.variables<span class="sc">$</span>imputed[i] <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co">#make a note that this value is imputed</span></span>
<span id="cb52-12"><a href="http://localhost:3191/#cb52-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb52-13"><a href="http://localhost:3191/#cb52-13" aria-hidden="true" tabindex="-1"></a>  }        </span>
<span id="cb52-14"><a href="http://localhost:3191/#cb52-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-15"><a href="http://localhost:3191/#cb52-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-16"><a href="http://localhost:3191/#cb52-16" aria-hidden="true" tabindex="-1"></a>penguins.imputed<span class="ot">&lt;-</span> <span class="fu">data.frame</span>(penguins <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">where</span>(is.numeric)),penguins2.num.variables)</span>
<span id="cb52-17"><a href="http://localhost:3191/#cb52-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-18"><a href="http://localhost:3191/#cb52-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Tada! - I also leave som deprecated code below so you can see the madness of my process</span></span>
<span id="cb52-19"><a href="http://localhost:3191/#cb52-19" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb52-20"><a href="http://localhost:3191/#cb52-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#  for (n in penguins2$n) {</span></span>
<span id="cb52-21"><a href="http://localhost:3191/#cb52-21" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb52-22"><a href="http://localhost:3191/#cb52-22" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    if is.na(variable[n]){</span></span>
<span id="cb52-23"><a href="http://localhost:3191/#cb52-23" aria-hidden="true" tabindex="-1"></a>  <span class="co">#      variable[n] &lt;- mean(variable,na.rm=T)</span></span>
<span id="cb52-24"><a href="http://localhost:3191/#cb52-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    } else {</span></span>
<span id="cb52-25"><a href="http://localhost:3191/#cb52-25" aria-hidden="true" tabindex="-1"></a>  <span class="co">#      next</span></span>
<span id="cb52-26"><a href="http://localhost:3191/#cb52-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#      }</span></span>
<span id="cb52-27"><a href="http://localhost:3191/#cb52-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">#     }</span></span>
<span id="cb52-28"><a href="http://localhost:3191/#cb52-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#    }</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I see now that the task actually asked me to make a loop with an if/else statement that could determine whether it was numeric &amp; double or whether it was something else, I’ll try to edit my above code. <em>This gives errors because some of them are integers, which aren’t double - we’ll just change that</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="http://localhost:3191/#cb53-1" aria-hidden="true" tabindex="-1"></a>penguins2<span class="ot">&lt;-</span>penguins</span>
<span id="cb53-2"><a href="http://localhost:3191/#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(penguins2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [344 × 8] (S3: tbl_df/tbl/data.frame)
 $ species          : Factor w/ 3 levels "Adelie","Chinstrap",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ island           : Factor w/ 3 levels "Biscoe","Dream",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ bill_length_mm   : num [1:344] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
 $ bill_depth_mm    : num [1:344] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
 $ flipper_length_mm: int [1:344] 181 186 195 NA 193 190 181 195 193 190 ...
 $ body_mass_g      : int [1:344] 3750 3800 3250 NA 3450 3650 3625 4675 3475 4250 ...
 $ sex              : Factor w/ 2 levels "female","male": 2 1 1 NA 1 2 1 2 NA NA ...
 $ year             : int [1:344] 2007 2007 2007 2007 2007 2007 2007 2007 2007 2007 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="http://localhost:3191/#cb55-1" aria-hidden="true" tabindex="-1"></a>penguins2<span class="sc">$</span>flipper_length_mm<span class="ot">&lt;-</span><span class="fu">as.numeric</span>(penguins2<span class="sc">$</span>flipper_length_mm)</span>
<span id="cb55-2"><a href="http://localhost:3191/#cb55-2" aria-hidden="true" tabindex="-1"></a>penguins2<span class="sc">$</span>body_mass_g      <span class="ot">&lt;-</span><span class="fu">as.numeric</span>(penguins2<span class="sc">$</span>body_mass_g      )</span>
<span id="cb55-3"><a href="http://localhost:3191/#cb55-3" aria-hidden="true" tabindex="-1"></a>penguins2<span class="sc">$</span>year             <span class="ot">&lt;-</span><span class="fu">as.numeric</span>(penguins2<span class="sc">$</span>year             )</span>
<span id="cb55-4"><a href="http://localhost:3191/#cb55-4" aria-hidden="true" tabindex="-1"></a>penguins2<span class="sc">$</span>imputed <span class="ot">&lt;-</span> <span class="st">" "</span></span>
<span id="cb55-5"><a href="http://localhost:3191/#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(penguins2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [344 × 9] (S3: tbl_df/tbl/data.frame)
 $ species          : Factor w/ 3 levels "Adelie","Chinstrap",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ island           : Factor w/ 3 levels "Biscoe","Dream",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ bill_length_mm   : num [1:344] 39.1 39.5 40.3 NA 36.7 39.3 38.9 39.2 34.1 42 ...
 $ bill_depth_mm    : num [1:344] 18.7 17.4 18 NA 19.3 20.6 17.8 19.6 18.1 20.2 ...
 $ flipper_length_mm: num [1:344] 181 186 195 NA 193 190 181 195 193 190 ...
 $ body_mass_g      : num [1:344] 3750 3800 3250 NA 3450 ...
 $ sex              : Factor w/ 2 levels "female","male": 2 1 1 NA 1 2 1 2 NA NA ...
 $ year             : num [1:344] 2007 2007 2007 2007 2007 ...
 $ imputed          : chr [1:344] " " " " " " " " ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="http://localhost:3191/#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (variable <span class="cf">in</span> <span class="fu">colnames</span>(penguins2)){</span>
<span id="cb57-2"><a href="http://localhost:3191/#cb57-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-3"><a href="http://localhost:3191/#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(penguins2[[variable]])){</span>
<span id="cb57-4"><a href="http://localhost:3191/#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (variable <span class="sc">!=</span> <span class="st">"imputed"</span>){ <span class="co">#we do not want to impute on the imputed variable, because that is silly</span></span>
<span id="cb57-5"><a href="http://localhost:3191/#cb57-5" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">is.double</span>(penguins2[[variable]])){<span class="co">#TODO return true if variable is double, return false if not  </span></span>
<span id="cb57-6"><a href="http://localhost:3191/#cb57-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">is.na</span>(penguins2[[variable]][i])){</span>
<span id="cb57-7"><a href="http://localhost:3191/#cb57-7" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb57-8"><a href="http://localhost:3191/#cb57-8" aria-hidden="true" tabindex="-1"></a>          penguins2[[variable]][i] <span class="ot">&lt;-</span></span>
<span id="cb57-9"><a href="http://localhost:3191/#cb57-9" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mean</span>(penguins2[[variable]],<span class="at">na.rm=</span>T)</span>
<span id="cb57-10"><a href="http://localhost:3191/#cb57-10" aria-hidden="true" tabindex="-1"></a>          penguins2<span class="sc">$</span>imputed[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(penguins2<span class="sc">$</span>imputed[i],<span class="st">"mean of"</span>,variable) <span class="co">#make a note that a value is imputed</span></span>
<span id="cb57-11"><a href="http://localhost:3191/#cb57-11" aria-hidden="true" tabindex="-1"></a>          } </span>
<span id="cb57-12"><a href="http://localhost:3191/#cb57-12" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb57-13"><a href="http://localhost:3191/#cb57-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">is.na</span>(penguins2[[variable]][i])){</span>
<span id="cb57-14"><a href="http://localhost:3191/#cb57-14" aria-hidden="true" tabindex="-1"></a>              penguins2[[variable]][i] <span class="ot">&lt;-</span></span>
<span id="cb57-15"><a href="http://localhost:3191/#cb57-15" aria-hidden="true" tabindex="-1"></a>              <span class="fu">names</span>(<span class="fu">which.max</span>(<span class="fu">table</span>(penguins2[[variable]])))</span>
<span id="cb57-16"><a href="http://localhost:3191/#cb57-16" aria-hidden="true" tabindex="-1"></a>          penguins2<span class="sc">$</span>imputed[i] <span class="ot">&lt;-</span> <span class="fu">paste</span>(penguins2<span class="sc">$</span>imputed[i],<span class="st">"most common of"</span>,variable) <span class="co">#make a note that a value is imputed</span></span>
<span id="cb57-17"><a href="http://localhost:3191/#cb57-17" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb57-18"><a href="http://localhost:3191/#cb57-18" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb57-19"><a href="http://localhost:3191/#cb57-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb57-20"><a href="http://localhost:3191/#cb57-20" aria-hidden="true" tabindex="-1"></a>  }        </span>
<span id="cb57-21"><a href="http://localhost:3191/#cb57-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb57-22"><a href="http://localhost:3191/#cb57-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-23"><a href="http://localhost:3191/#cb57-23" aria-hidden="true" tabindex="-1"></a>penguins.imputed<span class="ot">&lt;-</span>penguins2</span>
<span id="cb57-24"><a href="http://localhost:3191/#cb57-24" aria-hidden="true" tabindex="-1"></a><span class="co">#and there we have it ïmputed by means, </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="functions" class="level1">
<h1>Functions –</h1>
<p>##exercises Day 2, B</p>
<p>Understanding how to create and use your own functions</p>
<p>Learning objectives In this lesson you will learn how the apply family of functions works, and the alternatives using dplyr and data.table Practice writing and reusing your own functions Iterating over data with functions</p>
<p>###2. Write a function to compute the mean and standard deviation of a numeric vector. We will apply this function to the numeric variables in penguins, and also by different subgroups</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="http://localhost:3191/#cb58-1" aria-hidden="true" tabindex="-1"></a>my_mean<span class="ot">&lt;-</span><span class="cf">function</span>(x){</span>
<span id="cb58-2"><a href="http://localhost:3191/#cb58-2" aria-hidden="true" tabindex="-1"></a>  my<span class="ot">&lt;-</span><span class="fu">sum</span>(x)<span class="sc">/</span><span class="fu">length</span>(x)</span>
<span id="cb58-3"><a href="http://localhost:3191/#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(my)}</span>
<span id="cb58-4"><a href="http://localhost:3191/#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="http://localhost:3191/#cb58-5" aria-hidden="true" tabindex="-1"></a>mean_sd<span class="ot">&lt;-</span><span class="cf">function</span>(x, <span class="at">na.rm=</span>T){</span>
<span id="cb58-6"><a href="http://localhost:3191/#cb58-6" aria-hidden="true" tabindex="-1"></a>  my<span class="ot">&lt;-</span><span class="fu">mean</span>(x,<span class="at">na.rm=</span>na.rm)</span>
<span id="cb58-7"><a href="http://localhost:3191/#cb58-7" aria-hidden="true" tabindex="-1"></a>  sd<span class="ot">&lt;-</span><span class="fu">sd</span>(x,<span class="at">na.rm=</span>na.rm)</span>
<span id="cb58-8"><a href="http://localhost:3191/#cb58-8" aria-hidden="true" tabindex="-1"></a>  out<span class="ot">&lt;-</span><span class="fu">data.frame</span>(my,sd)</span>
<span id="cb58-9"><a href="http://localhost:3191/#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(out)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"mean"</span>,<span class="st">"standard deviation"</span>)</span>
<span id="cb58-10"><a href="http://localhost:3191/#cb58-10" aria-hidden="true" tabindex="-1"></a>  out</span>
<span id="cb58-11"><a href="http://localhost:3191/#cb58-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb58-12"><a href="http://localhost:3191/#cb58-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-13"><a href="http://localhost:3191/#cb58-13" aria-hidden="true" tabindex="-1"></a><span class="fu">mean_sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  mean standard deviation
1  5.5                  3</code></pre>
</div>
</div>
<p>Use your function to compute the mean and sd of body mass by species and sex</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="http://localhost:3191/#cb60-1" aria-hidden="true" tabindex="-1"></a>penguins<span class="sc">|&gt;</span><span class="fu">group_by</span>(species,sex)<span class="sc">|&gt;</span><span class="fu">summarize</span>(<span class="fu">mean_sd</span>(body_mass_g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'species'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 4
# Groups:   species [3]
  species   sex     mean `standard deviation`
  &lt;fct&gt;     &lt;fct&gt;  &lt;dbl&gt;                &lt;dbl&gt;
1 Adelie    female 3369.                 269.
2 Adelie    male   4043.                 347.
3 Adelie    &lt;NA&gt;   3540                  477.
4 Chinstrap female 3527.                 285.
5 Chinstrap male   3939.                 362.
6 Gentoo    female 4680.                 282.
7 Gentoo    male   5485.                 313.
8 Gentoo    &lt;NA&gt;   4588.                 338.</code></pre>
</div>
</div>
<p>Try using one of the apply functions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="http://localhost:3191/#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(</span>
<span id="cb63-2"><a href="http://localhost:3191/#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(</span>
<span id="cb63-3"><a href="http://localhost:3191/#cb63-3" aria-hidden="true" tabindex="-1"></a>    penguins<span class="sc">$</span>body_mass_g, <span class="fu">list</span>(penguins<span class="sc">$</span>species,penguins<span class="sc">$</span>sex)</span>
<span id="cb63-4"><a href="http://localhost:3191/#cb63-4" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb63-5"><a href="http://localhost:3191/#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUN=</span>mean_sd</span>
<span id="cb63-6"><a href="http://localhost:3191/#cb63-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Adelie.female
  mean standard deviation
1 3369                269

$Chinstrap.female
  mean standard deviation
1 3527                285

$Gentoo.female
  mean standard deviation
1 4680                282

$Adelie.male
  mean standard deviation
1 4043                347

$Chinstrap.male
  mean standard deviation
1 3939                362

$Gentoo.male
  mean standard deviation
1 5485                313</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="http://localhost:3191/#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(</span>
<span id="cb65-2"><a href="http://localhost:3191/#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(</span>
<span id="cb65-3"><a href="http://localhost:3191/#cb65-3" aria-hidden="true" tabindex="-1"></a>    penguins<span class="sc">$</span>body_mass_g, <span class="fu">list</span>(penguins<span class="sc">$</span>species,penguins<span class="sc">$</span>sex)</span>
<span id="cb65-4"><a href="http://localhost:3191/#cb65-4" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb65-5"><a href="http://localhost:3191/#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUN=</span>mean_sd</span>
<span id="cb65-6"><a href="http://localhost:3191/#cb65-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   Adelie.female Chinstrap.female Gentoo.female Adelie.male
mean               3369          3527             4680          4043       
standard deviation 269           285              282           347        
                   Chinstrap.male Gentoo.male
mean               3939           5485       
standard deviation 362            313        </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="http://localhost:3191/#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co">#tapply(</span></span>
<span id="cb67-2"><a href="http://localhost:3191/#cb67-2" aria-hidden="true" tabindex="-1"></a> <span class="co"># split(</span></span>
<span id="cb67-3"><a href="http://localhost:3191/#cb67-3" aria-hidden="true" tabindex="-1"></a> <span class="co">#   penguins$body_mass_g, list(penguins$species,penguins$sex)</span></span>
<span id="cb67-4"><a href="http://localhost:3191/#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  ),</span></span>
<span id="cb67-5"><a href="http://localhost:3191/#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  FUN=mean_sd</span></span>
<span id="cb67-6"><a href="http://localhost:3191/#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="co">#)</span></span>
<span id="cb67-7"><a href="http://localhost:3191/#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="http://localhost:3191/#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="co">#I tried to mess around with INDEX a bit but didn't really make it work.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Stop and think What are the components of a function? Do I have to worry about missing data? How can I deal with it? What sort of data structure should I return? Using the function Use your function to compute the mean and sd of all the numeric variables in penguins. Use your function to compute the mean and sd of body mass by species and sex Try using one of the apply functions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="http://localhost:3191/#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co">#So I usually use dplyr, but I guess it would look like this if I wanted to do it without</span></span>
<span id="cb68-2"><a href="http://localhost:3191/#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="http://localhost:3191/#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">split</span>(penguins<span class="sc">$</span>body_mass_g, <span class="fu">list</span>(penguins<span class="sc">$</span>species, penguins<span class="sc">$</span>sex)),<span class="at">FUN=</span>mean_sd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Adelie.female
  mean standard deviation
1 3369                269

$Chinstrap.female
  mean standard deviation
1 3527                285

$Gentoo.female
  mean standard deviation
1 4680                282

$Adelie.male
  mean standard deviation
1 4043                347

$Chinstrap.male
  mean standard deviation
1 3939                362

$Gentoo.male
  mean standard deviation
1 5485                313</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="http://localhost:3191/#cb70-1" aria-hidden="true" tabindex="-1"></a>summary<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>((<span class="fu">lapply</span>(<span class="fu">split</span>(penguins<span class="sc">$</span>body_mass_g, <span class="fu">list</span>(penguins<span class="sc">$</span>species, penguins<span class="sc">$</span>sex)),<span class="at">FUN=</span>mean_sd)</span>
<span id="cb70-2"><a href="http://localhost:3191/#cb70-2" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb70-3"><a href="http://localhost:3191/#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="http://localhost:3191/#cb70-4" aria-hidden="true" tabindex="-1"></a>summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Adelie.female.mean Adelie.female.standard.deviation Chinstrap.female.mean
1               3369                              269                  3527
  Chinstrap.female.standard.deviation Gentoo.female.mean
1                                 285               4680
  Gentoo.female.standard.deviation Adelie.male.mean
1                              282             4043
  Adelie.male.standard.deviation Chinstrap.male.mean
1                            347                3939
  Chinstrap.male.standard.deviation Gentoo.male.mean
1                               362             5485
  Gentoo.male.standard.deviation
1                            313</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="http://localhost:3191/#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span>
<span id="cb72-2"><a href="http://localhost:3191/#cb72-2" aria-hidden="true" tabindex="-1"></a>summary.dplyr<span class="ot">&lt;-</span>penguins <span class="sc">%&gt;%</span></span>
<span id="cb72-3"><a href="http://localhost:3191/#cb72-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb72-4"><a href="http://localhost:3191/#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.list</span>() <span class="sc">%&gt;%</span></span>
<span id="cb72-5"><a href="http://localhost:3191/#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(mean_sd)<span class="sc">%&gt;%</span></span>
<span id="cb72-6"><a href="http://localhost:3191/#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="co">#TODO pivot this longer to get mean and SD in two rows. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Try using data.table: use the .by argument in the</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="http://localhost:3191/#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: pakke 'data.table' blev bygget under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Vedhæfter pakke: 'data.table'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>De følgende objekter er maskerede fra 'package:dplyr':

    between, first, last</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="http://localhost:3191/#cb77-1" aria-hidden="true" tabindex="-1"></a>pengdt <span class="ot">&lt;-</span> <span class="fu">data.table</span>(penguins)</span>
<span id="cb77-2"><a href="http://localhost:3191/#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="http://localhost:3191/#cb77-3" aria-hidden="true" tabindex="-1"></a>pengdt[, <span class="fu">mean_sd</span>(body_mass_g), by <span class="ot">=</span> <span class="fu">list</span>(species, sex)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     species    sex  mean standard deviation
      &lt;fctr&gt; &lt;fctr&gt; &lt;num&gt;              &lt;num&gt;
1:    Adelie   male  4043                347
2:    Adelie female  3369                269
3:    Adelie   &lt;NA&gt;  3540                477
4:    Gentoo female  4680                282
5:    Gentoo   male  5485                313
6:    Gentoo   &lt;NA&gt;  4588                338
7: Chinstrap female  3527                285
8: Chinstrap   male  3939                362</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="http://localhost:3191/#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="do">## . can be used as shorthand for list in data table</span></span>
<span id="cb79-2"><a href="http://localhost:3191/#cb79-2" aria-hidden="true" tabindex="-1"></a>pengdt[, <span class="fu">mean_sd</span>(body_mass_g), by <span class="ot">=</span> .(species, sex)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     species    sex  mean standard deviation
      &lt;fctr&gt; &lt;fctr&gt; &lt;num&gt;              &lt;num&gt;
1:    Adelie   male  4043                347
2:    Adelie female  3369                269
3:    Adelie   &lt;NA&gt;  3540                477
4:    Gentoo female  4680                282
5:    Gentoo   male  5485                313
6:    Gentoo   &lt;NA&gt;  4588                338
7: Chinstrap female  3527                285
8: Chinstrap   male  3939                362</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="http://localhost:3191/#cb81-1" aria-hidden="true" tabindex="-1"></a>pengdt[, <span class="fu">mean_sd</span>(body_mass_g), by <span class="ot">=</span> .(species, sex)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     species    sex  mean standard deviation
      &lt;fctr&gt; &lt;fctr&gt; &lt;num&gt;              &lt;num&gt;
1:    Adelie   male  4043                347
2:    Adelie female  3369                269
3:    Adelie   &lt;NA&gt;  3540                477
4:    Gentoo female  4680                282
5:    Gentoo   male  5485                313
6:    Gentoo   &lt;NA&gt;  4588                338
7: Chinstrap female  3527                285
8: Chinstrap   male  3939                362</code></pre>
</div>
</div>
<p>##Classes and custom generics Now that you have some functions to do something interesting, let’s create a “class” to indicate that the object has a specific meaning.</p>
<p>Modify your mean and sd function so that the data structure that is returned has class “meansd”. There are two ways to do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="http://localhost:3191/#cb83-1" aria-hidden="true" tabindex="-1"></a>mean_sd<span class="ot">&lt;-</span><span class="cf">function</span>(x, <span class="at">na.rm=</span>T){</span>
<span id="cb83-2"><a href="http://localhost:3191/#cb83-2" aria-hidden="true" tabindex="-1"></a>  my<span class="ot">&lt;-</span><span class="fu">mean</span>(x,<span class="at">na.rm=</span>na.rm)</span>
<span id="cb83-3"><a href="http://localhost:3191/#cb83-3" aria-hidden="true" tabindex="-1"></a>  sd<span class="ot">&lt;-</span><span class="fu">sd</span>(x,<span class="at">na.rm=</span>na.rm)</span>
<span id="cb83-4"><a href="http://localhost:3191/#cb83-4" aria-hidden="true" tabindex="-1"></a>  out<span class="ot">&lt;-</span><span class="fu">list</span>(my,sd)</span>
<span id="cb83-5"><a href="http://localhost:3191/#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(out)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"mean"</span>,<span class="st">"sd"</span>)</span>
<span id="cb83-6"><a href="http://localhost:3191/#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">class</span>(out)<span class="ot">&lt;-</span><span class="st">"meansd"</span></span>
<span id="cb83-7"><a href="http://localhost:3191/#cb83-7" aria-hidden="true" tabindex="-1"></a>  out</span>
<span id="cb83-8"><a href="http://localhost:3191/#cb83-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb83-9"><a href="http://localhost:3191/#cb83-9" aria-hidden="true" tabindex="-1"></a>print.meansd<span class="ot">&lt;-</span><span class="cn">NULL</span></span>
<span id="cb83-10"><a href="http://localhost:3191/#cb83-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-11"><a href="http://localhost:3191/#cb83-11" aria-hidden="true" tabindex="-1"></a><span class="fu">mean_sd</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$mean
[1] 3

$sd
[1] 1.6

attr(,"class")
[1] "meansd"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="http://localhost:3191/#cb85-1" aria-hidden="true" tabindex="-1"></a>print.meansd <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">dig =</span> <span class="dv">2</span>) {</span>
<span id="cb85-2"><a href="http://localhost:3191/#cb85-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb85-3"><a href="http://localhost:3191/#cb85-3" aria-hidden="true" tabindex="-1"></a>  msd <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="fu">round</span>(x[[<span class="st">"mean"</span>]], <span class="at">digits =</span> dig), <span class="st">" ("</span>, </span>
<span id="cb85-4"><a href="http://localhost:3191/#cb85-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">round</span>(x[[<span class="st">"sd"</span>]], <span class="at">digits =</span> dig), <span class="st">")"</span>)</span>
<span id="cb85-5"><a href="http://localhost:3191/#cb85-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb85-6"><a href="http://localhost:3191/#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"mean (sd)"</span>, </span>
<span id="cb85-7"><a href="http://localhost:3191/#cb85-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">attr</span>(x, <span class="st">"variable"</span>), <span class="st">":"</span>, </span>
<span id="cb85-8"><a href="http://localhost:3191/#cb85-8" aria-hidden="true" tabindex="-1"></a>      msd, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb85-9"><a href="http://localhost:3191/#cb85-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb85-10"><a href="http://localhost:3191/#cb85-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-11"><a href="http://localhost:3191/#cb85-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-12"><a href="http://localhost:3191/#cb85-12" aria-hidden="true" tabindex="-1"></a>test<span class="ot">&lt;-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb85-13"><a href="http://localhost:3191/#cb85-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-14"><a href="http://localhost:3191/#cb85-14" aria-hidden="true" tabindex="-1"></a><span class="fu">mean_sd</span>(test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>mean (sd) : 5.5 (3.03) </code></pre>
</div>
</div>
<p>##More functions Write another function that constructs a one-sample t-statistic from an estimated mean and standard deviation. Recall that the t-statistic to test the null hypothesis that is T = (X-bar - my0)/(sd/sqrt(n)) X-bar is the sample mean and sd is the sample standard deviation and n is the sample size.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="http://localhost:3191/#cb87-1" aria-hidden="true" tabindex="-1"></a>Tscore <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">my0=</span><span class="dv">0</span>){</span>
<span id="cb87-2"><a href="http://localhost:3191/#cb87-2" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">=</span> <span class="fu">length</span>(x)</span>
<span id="cb87-3"><a href="http://localhost:3191/#cb87-3" aria-hidden="true" tabindex="-1"></a>  xbar <span class="ot">=</span> <span class="fu">mean</span>(x, <span class="at">na.rm=</span>T)</span>
<span id="cb87-4"><a href="http://localhost:3191/#cb87-4" aria-hidden="true" tabindex="-1"></a>  sd <span class="ot">=</span> <span class="fu">sd</span>(x, <span class="at">na.rm=</span>T)</span>
<span id="cb87-5"><a href="http://localhost:3191/#cb87-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb87-6"><a href="http://localhost:3191/#cb87-6" aria-hidden="true" tabindex="-1"></a>  out <span class="ot">=</span> (xbar <span class="sc">-</span> my0)<span class="sc">/</span>(sd<span class="sc">*</span><span class="fu">sqrt</span>(n))</span>
<span id="cb87-7"><a href="http://localhost:3191/#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(out)<span class="ot">&lt;-</span><span class="st">"T-Score"</span></span>
<span id="cb87-8"><a href="http://localhost:3191/#cb87-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">class</span>(out)<span class="ot">&lt;-</span><span class="st">"Tsc"</span></span>
<span id="cb87-9"><a href="http://localhost:3191/#cb87-9" aria-hidden="true" tabindex="-1"></a>  out</span>
<span id="cb87-10"><a href="http://localhost:3191/#cb87-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb87-11"><a href="http://localhost:3191/#cb87-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-12"><a href="http://localhost:3191/#cb87-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-13"><a href="http://localhost:3191/#cb87-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-14"><a href="http://localhost:3191/#cb87-14" aria-hidden="true" tabindex="-1"></a>print.Tsc <span class="ot">&lt;-</span> <span class="cf">function</span> (x, <span class="at">digits =</span> <span class="cn">NULL</span>, <span class="at">quote =</span> <span class="cn">TRUE</span>, <span class="at">na.print =</span> <span class="cn">NULL</span>, <span class="at">print.gap =</span> <span class="cn">NULL</span>, </span>
<span id="cb87-15"><a href="http://localhost:3191/#cb87-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">right =</span> <span class="cn">FALSE</span>, <span class="at">max =</span> <span class="cn">NULL</span>, <span class="at">width =</span> <span class="cn">NULL</span>, <span class="at">useSource =</span> <span class="cn">TRUE</span>, </span>
<span id="cb87-16"><a href="http://localhost:3191/#cb87-16" aria-hidden="true" tabindex="-1"></a>    ...) </span>
<span id="cb87-17"><a href="http://localhost:3191/#cb87-17" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb87-18"><a href="http://localhost:3191/#cb87-18" aria-hidden="true" tabindex="-1"></a>    args <span class="ot">&lt;-</span> <span class="fu">pairlist</span>(<span class="at">digits =</span> digits, <span class="at">quote =</span> quote, <span class="at">na.print =</span> na.print, </span>
<span id="cb87-19"><a href="http://localhost:3191/#cb87-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">print.gap =</span> print.gap, <span class="at">right =</span> right, <span class="at">max =</span> max, <span class="at">width =</span> width, </span>
<span id="cb87-20"><a href="http://localhost:3191/#cb87-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">useSource =</span> useSource, ...)</span>
<span id="cb87-21"><a href="http://localhost:3191/#cb87-21" aria-hidden="true" tabindex="-1"></a>    missings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">missing</span>(digits), <span class="fu">missing</span>(quote), <span class="fu">missing</span>(na.print), </span>
<span id="cb87-22"><a href="http://localhost:3191/#cb87-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">missing</span>(print.gap), <span class="fu">missing</span>(right), <span class="fu">missing</span>(max), <span class="fu">missing</span>(width), </span>
<span id="cb87-23"><a href="http://localhost:3191/#cb87-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">missing</span>(useSource))</span>
<span id="cb87-24"><a href="http://localhost:3191/#cb87-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">.Internal</span>(<span class="fu">print.default</span>(x, args, missings))</span>
<span id="cb87-25"><a href="http://localhost:3191/#cb87-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb87-26"><a href="http://localhost:3191/#cb87-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-27"><a href="http://localhost:3191/#cb87-27" aria-hidden="true" tabindex="-1"></a><span class="fu">Tscore</span>(test)[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>T-Score 
   0.57 </code></pre>
</div>
</div>
<p>Write another function that takes the t-statistic and calculates a p-value</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="http://localhost:3191/#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO</span></span>
<span id="cb89-2"><a href="http://localhost:3191/#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pt</span>(<span class="at">q=</span><span class="fu">Tscore</span>(test)[<span class="dv">1</span>],<span class="at">df=</span><span class="fu">length</span>(test)<span class="sc">-</span><span class="dv">1</span>, <span class="at">lower=</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>T-Score 
   0.29 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="http://localhost:3191/#cb91-1" aria-hidden="true" tabindex="-1"></a>pvalue <span class="ot">&lt;-</span> <span class="cf">function</span> (q, df, ncp, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>, <span class="at">log.p =</span> <span class="cn">FALSE</span>) </span>
<span id="cb91-2"><a href="http://localhost:3191/#cb91-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb91-3"><a href="http://localhost:3191/#cb91-3" aria-hidden="true" tabindex="-1"></a>    out<span class="ot">=</span><span class="fu">pt</span>(q, df, ncp, <span class="at">lower.tail =</span> <span class="cn">TRUE</span>, <span class="at">log.p =</span> <span class="cn">FALSE</span>)</span>
<span id="cb91-4"><a href="http://localhost:3191/#cb91-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(out)<span class="ot">&lt;-</span><span class="st">"p-value"</span></span>
<span id="cb91-5"><a href="http://localhost:3191/#cb91-5" aria-hidden="true" tabindex="-1"></a>    out</span>
<span id="cb91-6"><a href="http://localhost:3191/#cb91-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb91-7"><a href="http://localhost:3191/#cb91-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-8"><a href="http://localhost:3191/#cb91-8" aria-hidden="true" tabindex="-1"></a><span class="fu">pvalue</span>(<span class="at">q=</span><span class="fu">Tscore</span>(test)[<span class="dv">1</span>],<span class="at">df=</span><span class="fu">length</span>(test)<span class="sc">-</span><span class="dv">1</span>, <span class="at">lower=</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>p-value 
   0.71 </code></pre>
</div>
</div>
<p>Compose your custom functions in order to test the null hypothesis that the mean body mass of penguins is 4000g. Try using the pipe operator |&gt;.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="http://localhost:3191/#cb93-1" aria-hidden="true" tabindex="-1"></a>penguins<span class="sc">$</span>body_mass_g<span class="sc">|&gt;</span><span class="fu">Tscore</span>(<span class="at">my0=</span><span class="dv">4000</span>)<span class="sc">|&gt;</span><span class="fu">pvalue</span>(<span class="at">df=</span><span class="fu">length</span>(penguins<span class="sc">$</span>body_mass_g))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>p-value 
   0.51 
attr(,"class")
[1] "Tsc"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="http://localhost:3191/#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(penguins<span class="sc">$</span>body_mass_g,<span class="at">mu=</span><span class="dv">4000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  penguins$body_mass_g
t = 5, df = 341, p-value = 5e-06
alternative hypothesis: true mean is not equal to 4000
95 percent confidence interval:
 4116 4287
sample estimates:
mean of x 
     4202 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="http://localhost:3191/#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co">#So that's wrong, but I dont understand why. I can always just do:</span></span>
<span id="cb97-2"><a href="http://localhost:3191/#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="http://localhost:3191/#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="http://localhost:3191/#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="http://localhost:3191/#cb97-5" aria-hidden="true" tabindex="-1"></a>t.test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (x, ...) 
UseMethod("t.test")
&lt;bytecode: 0x00000248264357c8&gt;
&lt;environment: namespace:stats&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="http://localhost:3191/#cb99-1" aria-hidden="true" tabindex="-1"></a>my_t.test <span class="ot">&lt;-</span> <span class="cf">function</span>(x,<span class="at">mu=</span><span class="dv">0</span>) {</span>
<span id="cb99-2"><a href="http://localhost:3191/#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t.test</span>(x,<span class="at">mu=</span>mu)[<span class="dv">1</span>]</span>
<span id="cb99-3"><a href="http://localhost:3191/#cb99-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-4"><a href="http://localhost:3191/#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="http://localhost:3191/#cb99-5" aria-hidden="true" tabindex="-1"></a>penguins<span class="sc">$</span>body_mass_g<span class="sc">|&gt;</span><span class="fu">my_t.test</span>(<span class="at">mu=</span><span class="dv">4000</span>)<span class="sc">|&gt;</span><span class="fu">as.numeric</span>()<span class="sc">|&gt;</span><span class="fu">pvalue</span>(<span class="at">df=</span><span class="fu">length</span>(penguins<span class="sc">$</span>body_mass_g)<span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>p-value 
      1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="http://localhost:3191/#cb101-1" aria-hidden="true" tabindex="-1"></a>my_pvalue <span class="ot">&lt;-</span> <span class="cf">function</span> (x, mu, ...){</span>
<span id="cb101-2"><a href="http://localhost:3191/#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(x,<span class="at">mu=</span>mu,...)<span class="sc">$</span>p.value</span>
<span id="cb101-3"><a href="http://localhost:3191/#cb101-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb101-4"><a href="http://localhost:3191/#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="http://localhost:3191/#cb101-5" aria-hidden="true" tabindex="-1"></a>penguins<span class="sc">$</span>body_mass_g<span class="sc">|&gt;</span><span class="fu">my_pvalue</span>(<span class="at">mu=</span><span class="dv">4000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.7e-06</code></pre>
</div>
</div>
</section>
<section id="if-you-have-time-or-on-your-own" class="level1">
<h1>If you have time or on your own</h1>
<p>###1 Expand your class to include confidence interval and p-value calculation/printing. Check out the scales::pvalue function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="http://localhost:3191/#cb103-1" aria-hidden="true" tabindex="-1"></a>scales<span class="sc">::</span>pvalue</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (x, accuracy = 0.001, decimal.mark = ".", prefix = NULL, 
    add_p = FALSE) 
{
    out &lt;- number(x, accuracy, decimal.mark = decimal.mark)
    below &lt;- number(accuracy, accuracy, decimal.mark = decimal.mark)
    above &lt;- number(1 - accuracy, accuracy, decimal.mark = decimal.mark)
    if (is.null(prefix)) {
        if (add_p) {
            prefix &lt;- c("p&lt;", "p=", "p&gt;")
        }
        else {
            prefix &lt;- c("&lt;", "", "&gt;")
        }
    }
    else {
        if (!is.character(prefix) || length(prefix) != 3) {
            cli::cli_abort("{.arg prefix} must be a length 3 character vector")
        }
    }
    out &lt;- paste0(prefix[[2]], out)
    out[x &lt; accuracy] &lt;- paste0(prefix[[1]], below)
    out[x &gt; 1 - accuracy] &lt;- paste0(prefix[[3]], above)
    out[is.na(x)] &lt;- NA
    names(out) &lt;- names(x)
    out
}
&lt;bytecode: 0x0000024829cebb78&gt;
&lt;environment: namespace:scales&gt;</code></pre>
</div>
</div>
<p>Look at the t.test function. What type of object does this return? <em>It’s a list with the class htest</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="http://localhost:3191/#cb105-1" aria-hidden="true" tabindex="-1"></a>t.test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (x, ...) 
UseMethod("t.test")
&lt;bytecode: 0x00000248264357c8&gt;
&lt;environment: namespace:stats&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="http://localhost:3191/#cb107-1" aria-hidden="true" tabindex="-1"></a>t.test.penguin.mass.eq<span class="fl">.4000</span><span class="ot">&lt;-</span><span class="fu">t.test</span>(penguins<span class="sc">$</span>body_mass_g,<span class="at">mu=</span><span class="dv">4000</span>)</span>
<span id="cb107-2"><a href="http://localhost:3191/#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(t.test.penguin.mass.eq<span class="fl">.4000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 10
 $ statistic  : Named num 4.65
  ..- attr(*, "names")= chr "t"
 $ parameter  : Named num 341
  ..- attr(*, "names")= chr "df"
 $ p.value    : num 4.7e-06
 $ conf.int   : num [1:2] 4116 4287
  ..- attr(*, "conf.level")= num 0.95
 $ estimate   : Named num 4202
  ..- attr(*, "names")= chr "mean of x"
 $ null.value : Named num 4000
  ..- attr(*, "names")= chr "mean"
 $ stderr     : num 43.4
 $ alternative: chr "two.sided"
 $ method     : chr "One Sample t-test"
 $ data.name  : chr "penguins$body_mass_g"
 - attr(*, "class")= chr "htest"</code></pre>
</div>
</div>
<p>Look at the print method for the class of the object returned by t.test, use the command stats:::print.htest to find the source. How does it work? How would you modify it? <em>I could modify it to print just $conf.int from the htest object, the structure can be seen above</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="http://localhost:3191/#cb109-1" aria-hidden="true" tabindex="-1"></a>stats<span class="sc">:::</span>print.htest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (x, digits = getOption("digits"), prefix = "\t", ...) 
{
    cat("\n")
    cat(strwrap(x$method, prefix = prefix), sep = "\n")
    cat("\n")
    cat("data:  ", x$data.name, "\n", sep = "")
    out &lt;- character()
    if (!is.null(x$statistic)) 
        out &lt;- c(out, paste(names(x$statistic), "=", format(x$statistic, 
            digits = max(1L, digits - 2L))))
    if (!is.null(x$parameter)) 
        out &lt;- c(out, paste(names(x$parameter), "=", format(x$parameter, 
            digits = max(1L, digits - 2L))))
    if (!is.null(x$p.value)) {
        fp &lt;- format.pval(x$p.value, digits = max(1L, digits - 
            3L))
        out &lt;- c(out, paste("p-value", if (startsWith(fp, "&lt;")) fp else paste("=", 
            fp)))
    }
    cat(strwrap(paste(out, collapse = ", ")), sep = "\n")
    if (!is.null(x$alternative)) {
        cat("alternative hypothesis: ")
        if (!is.null(x$null.value)) {
            if (length(x$null.value) == 1L) {
                alt.char &lt;- switch(x$alternative, two.sided = "not equal to", 
                  less = "less than", greater = "greater than")
                cat("true ", names(x$null.value), " is ", alt.char, 
                  " ", x$null.value, "\n", sep = "")
            }
            else {
                cat(x$alternative, "\nnull values:\n", sep = "")
                print(x$null.value, digits = digits, ...)
            }
        }
        else cat(x$alternative, "\n", sep = "")
    }
    if (!is.null(x$conf.int)) {
        cat(format(100 * attr(x$conf.int, "conf.level")), " percent confidence interval:\n", 
            " ", paste(format(x$conf.int[1:2], digits = digits), 
                collapse = " "), "\n", sep = "")
    }
    if (!is.null(x$estimate)) {
        cat("sample estimates:\n")
        print(x$estimate, digits = digits, ...)
    }
    cat("\n")
    invisible(x)
}
&lt;bytecode: 0x0000024828258a98&gt;
&lt;environment: namespace:stats&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="http://localhost:3191/#cb111-1" aria-hidden="true" tabindex="-1"></a>my_print.htest <span class="ot">&lt;-</span> <span class="cf">function</span> (x, <span class="at">digits =</span> <span class="fu">getOption</span>(<span class="st">"digits"</span>), <span class="at">prefix =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>, ...) </span>
<span id="cb111-2"><a href="http://localhost:3191/#cb111-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb111-3"><a href="http://localhost:3191/#cb111-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb111-4"><a href="http://localhost:3191/#cb111-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="fu">strwrap</span>(x<span class="sc">$</span>method, <span class="at">prefix =</span> prefix), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb111-5"><a href="http://localhost:3191/#cb111-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb111-6"><a href="http://localhost:3191/#cb111-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"data:  "</span>, x<span class="sc">$</span>data.name, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb111-7"><a href="http://localhost:3191/#cb111-7" aria-hidden="true" tabindex="-1"></a>    out <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb111-8"><a href="http://localhost:3191/#cb111-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(x<span class="sc">$</span>statistic)) </span>
<span id="cb111-9"><a href="http://localhost:3191/#cb111-9" aria-hidden="true" tabindex="-1"></a>        stat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste</span>(<span class="fu">names</span>(x<span class="sc">$</span>statistic), <span class="st">"="</span>, <span class="fu">format</span>(x<span class="sc">$</span>statistic, </span>
<span id="cb111-10"><a href="http://localhost:3191/#cb111-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">digits =</span> <span class="fu">max</span>(1L, digits <span class="sc">-</span> 2L))))</span>
<span id="cb111-11"><a href="http://localhost:3191/#cb111-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(x<span class="sc">$</span>parameter)) </span>
<span id="cb111-12"><a href="http://localhost:3191/#cb111-12" aria-hidden="true" tabindex="-1"></a>        param <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste</span>(<span class="fu">names</span>(x<span class="sc">$</span>parameter), <span class="st">"="</span>, <span class="fu">format</span>(x<span class="sc">$</span>parameter, </span>
<span id="cb111-13"><a href="http://localhost:3191/#cb111-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">digits =</span> <span class="fu">max</span>(1L, digits <span class="sc">-</span> 2L))))</span>
<span id="cb111-14"><a href="http://localhost:3191/#cb111-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(x<span class="sc">$</span>p.value)) {</span>
<span id="cb111-15"><a href="http://localhost:3191/#cb111-15" aria-hidden="true" tabindex="-1"></a>        fp <span class="ot">&lt;-</span> <span class="fu">format.pval</span>(x<span class="sc">$</span>p.value, <span class="at">digits =</span> <span class="fu">max</span>(1L, digits <span class="sc">-</span> </span>
<span id="cb111-16"><a href="http://localhost:3191/#cb111-16" aria-hidden="true" tabindex="-1"></a>            3L))</span>
<span id="cb111-17"><a href="http://localhost:3191/#cb111-17" aria-hidden="true" tabindex="-1"></a>        p <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste</span>(<span class="st">"p-value"</span>, <span class="cf">if</span> (<span class="fu">startsWith</span>(fp, <span class="st">"&lt;"</span>)) fp <span class="cf">else</span> <span class="fu">paste</span>(<span class="st">"="</span>, </span>
<span id="cb111-18"><a href="http://localhost:3191/#cb111-18" aria-hidden="true" tabindex="-1"></a>            fp)))</span>
<span id="cb111-19"><a href="http://localhost:3191/#cb111-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb111-20"><a href="http://localhost:3191/#cb111-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="fu">strwrap</span>(<span class="fu">paste</span>(out, <span class="at">collapse =</span> <span class="st">", "</span>)), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb111-21"><a href="http://localhost:3191/#cb111-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(x<span class="sc">$</span>alternative)) {</span>
<span id="cb111-22"><a href="http://localhost:3191/#cb111-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">"alternative hypothesis: "</span>)</span>
<span id="cb111-23"><a href="http://localhost:3191/#cb111-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(x<span class="sc">$</span>null.value)) {</span>
<span id="cb111-24"><a href="http://localhost:3191/#cb111-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (<span class="fu">length</span>(x<span class="sc">$</span>null.value) <span class="sc">==</span> 1L) {</span>
<span id="cb111-25"><a href="http://localhost:3191/#cb111-25" aria-hidden="true" tabindex="-1"></a>                alt.char <span class="ot">&lt;-</span> <span class="cf">switch</span>(x<span class="sc">$</span>alternative, <span class="at">two.sided =</span> <span class="st">"not equal to"</span>, </span>
<span id="cb111-26"><a href="http://localhost:3191/#cb111-26" aria-hidden="true" tabindex="-1"></a>                  <span class="at">less =</span> <span class="st">"less than"</span>, <span class="at">greater =</span> <span class="st">"greater than"</span>)</span>
<span id="cb111-27"><a href="http://localhost:3191/#cb111-27" aria-hidden="true" tabindex="-1"></a>                <span class="fu">cat</span>(<span class="st">"true "</span>, <span class="fu">names</span>(x<span class="sc">$</span>null.value), <span class="st">" is "</span>, alt.char, </span>
<span id="cb111-28"><a href="http://localhost:3191/#cb111-28" aria-hidden="true" tabindex="-1"></a>                  <span class="st">" "</span>, x<span class="sc">$</span>null.value, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb111-29"><a href="http://localhost:3191/#cb111-29" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb111-30"><a href="http://localhost:3191/#cb111-30" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span> {</span>
<span id="cb111-31"><a href="http://localhost:3191/#cb111-31" aria-hidden="true" tabindex="-1"></a>                <span class="fu">cat</span>(x<span class="sc">$</span>alternative, <span class="st">"</span><span class="sc">\n</span><span class="st">null values:</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb111-32"><a href="http://localhost:3191/#cb111-32" aria-hidden="true" tabindex="-1"></a>                <span class="fu">print</span>(x<span class="sc">$</span>null.value, <span class="at">digits =</span> digits, ...)</span>
<span id="cb111-33"><a href="http://localhost:3191/#cb111-33" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb111-34"><a href="http://localhost:3191/#cb111-34" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb111-35"><a href="http://localhost:3191/#cb111-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> <span class="fu">cat</span>(x<span class="sc">$</span>alternative, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb111-36"><a href="http://localhost:3191/#cb111-36" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb111-37"><a href="http://localhost:3191/#cb111-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(x<span class="sc">$</span>conf.int)) {</span>
<span id="cb111-38"><a href="http://localhost:3191/#cb111-38" aria-hidden="true" tabindex="-1"></a>       conf<span class="ot">&lt;-</span> <span class="fu">cat</span>(<span class="fu">format</span>(<span class="dv">100</span> <span class="sc">*</span> <span class="fu">attr</span>(x<span class="sc">$</span>conf.int, <span class="st">"conf.level"</span>)), <span class="st">" percent confidence interval:</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb111-39"><a href="http://localhost:3191/#cb111-39" aria-hidden="true" tabindex="-1"></a>            <span class="st">" "</span>, <span class="fu">paste</span>(<span class="fu">format</span>(x<span class="sc">$</span>conf.int[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="at">digits =</span> digits), </span>
<span id="cb111-40"><a href="http://localhost:3191/#cb111-40" aria-hidden="true" tabindex="-1"></a>                <span class="at">collapse =</span> <span class="st">" "</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb111-41"><a href="http://localhost:3191/#cb111-41" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb111-42"><a href="http://localhost:3191/#cb111-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(x<span class="sc">$</span>estimate)) {</span>
<span id="cb111-43"><a href="http://localhost:3191/#cb111-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cat</span>(<span class="st">"sample estimates:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb111-44"><a href="http://localhost:3191/#cb111-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(x<span class="sc">$</span>estimate, <span class="at">digits =</span> digits, ...)</span>
<span id="cb111-45"><a href="http://localhost:3191/#cb111-45" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb111-46"><a href="http://localhost:3191/#cb111-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"cat"</span>,<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb111-47"><a href="http://localhost:3191/#cb111-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="fu">paste</span>(p,conf))</span>
<span id="cb111-48"><a href="http://localhost:3191/#cb111-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>,conf)</span>
<span id="cb111-49"><a href="http://localhost:3191/#cb111-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">invisible</span>(x)</span>
<span id="cb111-50"><a href="http://localhost:3191/#cb111-50" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb111-51"><a href="http://localhost:3191/#cb111-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-52"><a href="http://localhost:3191/#cb111-52" aria-hidden="true" tabindex="-1"></a><span class="fu">my_print.htest</span>(t.test.penguin.mass.eq<span class="fl">.4000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  penguins$body_mass_g

alternative hypothesis: true mean is not equal to 4000
95 percent confidence interval:
 4116 4287
sample estimates:
mean of x 
     4202 

 cat 
p-value = 5e-06 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="http://localhost:3191/#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Ok let's do something simpler and just refer to specific parts of the object</span></span>
<span id="cb113-2"><a href="http://localhost:3191/#cb113-2" aria-hidden="true" tabindex="-1"></a>my_print2.htest<span class="ot">&lt;-</span><span class="cf">function</span>(x, <span class="at">digits=</span><span class="dv">2</span>,<span class="at">pdigits=</span><span class="dv">7</span>,...){</span>
<span id="cb113-3"><a href="http://localhost:3191/#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"method:"</span>,x[[<span class="st">"method"</span>]],<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb113-4"><a href="http://localhost:3191/#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"alternative hypothesis:"</span>,x[[<span class="st">"alternative"</span>]],<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb113-5"><a href="http://localhost:3191/#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"the p-value that this is equal to"</span>,<span class="fu">round</span>(x[[<span class="st">"null.value"</span>]],digits),<span class="st">"is"</span>,<span class="fu">round</span>(x[[<span class="st">"p.value"</span>]],pdigits),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb113-6"><a href="http://localhost:3191/#cb113-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"mean is"</span>, <span class="fu">round</span>(x[[<span class="st">"estimate"</span>]],digits),<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb113-7"><a href="http://localhost:3191/#cb113-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="dv">100</span><span class="sc">*</span><span class="fu">round</span>(<span class="fu">attr</span>(x[[<span class="st">"conf.int"</span>]],<span class="at">which=</span><span class="st">"conf.level"</span>),digits),<span class="st">"%"</span>,</span>
<span id="cb113-8"><a href="http://localhost:3191/#cb113-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">"confidence is"</span>,<span class="fu">round</span>(x[[<span class="st">"conf.int"</span>]][<span class="dv">1</span>],digits),<span class="st">"to"</span>,<span class="fu">round</span>(x[[<span class="st">"conf.int"</span>]][<span class="dv">2</span>],digits))</span>
<span id="cb113-9"><a href="http://localhost:3191/#cb113-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb113-10"><a href="http://localhost:3191/#cb113-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-11"><a href="http://localhost:3191/#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="fu">my_print2.htest</span>(t.test.penguin.mass.eq<span class="fl">.4000</span>,<span class="at">digits=</span><span class="dv">5</span>,<span class="at">pdigits=</span><span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>method: One Sample t-test 
alternative hypothesis: two.sided 
the p-value that this is equal to 4000 is 4.7e-06 
mean is 4202 
95 % confidence is 4116 to 4287</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="http://localhost:3191/#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">my_print2.htest</span>(<span class="fu">t.test</span>(penguins2<span class="sc">$</span>body_mass_g,<span class="at">mu=</span><span class="dv">4150</span>)) <span class="co">#imputed data set has different conf.ints so I just checked to see whether it would return something different.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>method: One Sample t-test 
alternative hypothesis: two.sided 
the p-value that this is equal to 4150 is 0.23 
mean is 4202 
95 % confidence is 4117 to 4287</code></pre>
</div>
</div>
<p>Are there any other methods are available for that class? Use the methods function to find out. What would be another useful method for this class?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="http://localhost:3191/#cb117-1" aria-hidden="true" tabindex="-1"></a>methods</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function (generic.function, class) 
{
    envir &lt;- parent.frame()
    if (!missing(generic.function) &amp;&amp; !is.character(generic.function)) {
        what &lt;- substitute(generic.function)
        generic.function &lt;- if (is.function(generic.function) &amp;&amp; 
            is.call(what) &amp;&amp; (deparse(what[[1L]], nlines = 1L) %in% 
            c("::", ":::"))) {
            what &lt;- as.character(what[2:3])
            envir &lt;- asNamespace(what[[1L]])
            what[[2L]]
        }
        else deparse(what)
    }
    if (!missing(class) &amp;&amp; !is.character(class)) 
        class &lt;- deparse1(substitute(class))
    s3 &lt;- .S3methods(generic.function, class, envir)
    s4 &lt;- if (.isMethodsDispatchOn()) 
        methods::.S4methods(generic.function, class)
    .MethodsFunction(s3, s4, missing(generic.function))
}
&lt;bytecode: 0x0000024828e50f58&gt;
&lt;environment: namespace:utils&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="http://localhost:3191/#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stats)</span>
<span id="cb119-2"><a href="http://localhost:3191/#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3"><a href="http://localhost:3191/#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(<span class="at">generic.function=</span>print, <span class="at">class =</span> <span class="st">"htest"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] print.acf*                                          
  [2] print.activeConcordance*                            
  [3] print.AES*                                          
  [4] print.all_vars*                                     
  [5] print.anova*                                        
  [6] print.any_vars*                                     
  [7] print.aov*                                          
  [8] print.aovlist*                                      
  [9] print.ar*                                           
 [10] print.Arima*                                        
 [11] print.arima0*                                       
 [12] print.AsIs*                                         
 [13] print.aspell*                                       
 [14] print.aspell_inspect_context*                       
 [15] print.bibentry*                                     
 [16] print.Bibtex*                                       
 [17] print.browseVignettes*                              
 [18] print.by*                                           
 [19] print.changedFiles*                                 
 [20] print.check_bogus_return*                           
 [21] print.check_code_usage_in_package*                  
 [22] print.check_compiled_code*                          
 [23] print.check_demo_index*                             
 [24] print.check_depdef*                                 
 [25] print.check_details*                                
 [26] print.check_details_changes*                        
 [27] print.check_doi_db*                                 
 [28] print.check_dotInternal*                            
 [29] print.check_make_vars*                              
 [30] print.check_nonAPI_calls*                           
 [31] print.check_package_code_assign_to_globalenv*       
 [32] print.check_package_code_attach*                    
 [33] print.check_package_code_data_into_globalenv*       
 [34] print.check_package_code_startup_functions*         
 [35] print.check_package_code_syntax*                    
 [36] print.check_package_code_unload_functions*          
 [37] print.check_package_compact_datasets*               
 [38] print.check_package_CRAN_incoming*                  
 [39] print.check_package_datalist*                       
 [40] print.check_package_datasets*                       
 [41] print.check_package_depends*                        
 [42] print.check_package_description*                    
 [43] print.check_package_description_encoding*           
 [44] print.check_package_license*                        
 [45] print.check_packages_in_dir*                        
 [46] print.check_packages_used*                          
 [47] print.check_po_files*                               
 [48] print.check_pragmas*                                
 [49] print.check_Rd_line_widths*                         
 [50] print.check_Rd_metadata*                            
 [51] print.check_Rd_xrefs*                               
 [52] print.check_RegSym_calls*                           
 [53] print.check_S3_methods_needing_delayed_registration*
 [54] print.check_so_symbols*                             
 [55] print.check_T_and_F*                                
 [56] print.check_url_db*                                 
 [57] print.check_vignette_index*                         
 [58] print.checkDocFiles*                                
 [59] print.checkDocStyle*                                
 [60] print.checkFF*                                      
 [61] print.checkRd*                                      
 [62] print.checkRdContents*                              
 [63] print.checkReplaceFuns*                             
 [64] print.checkS3methods*                               
 [65] print.checkTnF*                                     
 [66] print.checkVignettes*                               
 [67] print.citation*                                     
 [68] print.cli_ansi_html_style*                          
 [69] print.cli_ansi_string*                              
 [70] print.cli_ansi_style*                               
 [71] print.cli_boxx*                                     
 [72] print.cli_diff_chr*                                 
 [73] print.cli_doc*                                      
 [74] print.cli_progress_demo*                            
 [75] print.cli_rule*                                     
 [76] print.cli_sitrep*                                   
 [77] print.cli_spark*                                    
 [78] print.cli_spinner*                                  
 [79] print.cli_tree*                                     
 [80] print.codoc*                                        
 [81] print.codocClasses*                                 
 [82] print.codocData*                                    
 [83] print.colorConverter*                               
 [84] print.compactPDF*                                   
 [85] print.condition*                                    
 [86] print.connection*                                   
 [87] print.CRAN_package_reverse_dependencies_and_views*  
 [88] print.data.frame*                                   
 [89] print.data.table*                                   
 [90] print.Date*                                         
 [91] print.default*                                      
 [92] print.dendrogram*                                   
 [93] print.density*                                      
 [94] print.difftime*                                     
 [95] print.dist*                                         
 [96] print.Dlist*                                        
 [97] print.DLLInfo*                                      
 [98] print.DLLInfoList*                                  
 [99] print.DLLRegisteredRoutines*                        
[100] print.document_context*                             
[101] print.document_position*                            
[102] print.document_range*                               
[103] print.document_selection*                           
[104] print.dplyr_join_by*                                
[105] print.dplyr_sel_vars*                               
[106] print.dummy_coef*                                   
[107] print.dummy_coef_list*                              
[108] print.ecdf*                                         
[109] print.eigen*                                        
[110] print.factanal*                                     
[111] print.factor*                                       
[112] print.family*                                       
[113] print.fileSnapshot*                                 
[114] print.findLineNumResult*                            
[115] print.formula*                                      
[116] print.fseq*                                         
[117] print.ftable*                                       
[118] print.fun_list*                                     
[119] print.function*                                     
[120] print.getAnywhere*                                  
[121] print.glm*                                          
[122] print.glue*                                         
[123] print.hashtab*                                      
[124] print.hcl_palettes*                                 
[125] print.hclust*                                       
[126] print.help_files_with_topic*                        
[127] print.hexmode*                                      
[128] print.HoltWinters*                                  
[129] print.hsearch*                                      
[130] print.hsearch_db*                                   
[131] print.htest*                                        
[132] print.html*                                         
[133] print.html_dependency*                              
[134] print.htmltools.selector*                           
[135] print.htmltools.selector.list*                      
[136] print.htmlwidget*                                   
[137] print.infl*                                         
[138] print.integrate*                                    
[139] print.isoreg*                                       
[140] print.ITime*                                        
[141] print.json*                                         
[142] print.key_missing*                                  
[143] print.kmeans*                                       
[144] print.knitr_kable*                                  
[145] print.last_dplyr_warnings*                          
[146] print.Latex*                                        
[147] print.LaTeX*                                        
[148] print.libraryIQR*                                   
[149] print.lifecycle_warnings*                           
[150] print.listof*                                       
[151] print.lm*                                           
[152] print.loadings*                                     
[153] print.loess*                                        
[154] print.logLik*                                       
[155] print.ls_str*                                       
[156] print.meansd                                        
[157] print.medpolish*                                    
[158] print.MethodsFunction*                              
[159] print.mtable*                                       
[160] print.NativeRoutineList*                            
[161] print.news_db*                                      
[162] print.nls*                                          
[163] print.noquote*                                      
[164] print.numeric_version*                              
[165] print.object_size*                                  
[166] print.octmode*                                      
[167] print.packageDescription*                           
[168] print.packageInfo*                                  
[169] print.packageIQR*                                   
[170] print.packageStatus*                                
[171] print.pairwise.htest*                               
[172] print.person*                                       
[173] print.pillar*                                       
[174] print.pillar_1e*                                    
[175] print.pillar_colonnade*                             
[176] print.pillar_ornament*                              
[177] print.pillar_shaft*                                 
[178] print.pillar_squeezed_colonnade*                    
[179] print.pillar_tbl_format_setup*                      
[180] print.pillar_vctr*                                  
[181] print.pillar_vctr_attr*                             
[182] print.POSIXct*                                      
[183] print.POSIXlt*                                      
[184] print.power.htest*                                  
[185] print.ppr*                                          
[186] print.prcomp*                                       
[187] print.princomp*                                     
[188] print.proc_time*                                    
[189] print.quosure*                                      
[190] print.quosures*                                     
[191] print.R6*                                           
[192] print.R6ClassGenerator*                             
[193] print.raster*                                       
[194] print.Rconcordance*                                 
[195] print.Rd*                                           
[196] print.recordedplot*                                 
[197] print.restart*                                      
[198] print.RGBcolorConverter*                            
[199] print.RGlyphFont*                                   
[200] print.rlang:::list_of_conditions*                   
[201] print.rlang_box_done*                               
[202] print.rlang_box_splice*                             
[203] print.rlang_data_pronoun*                           
[204] print.rlang_dict*                                   
[205] print.rlang_dyn_array*                              
[206] print.rlang_envs*                                   
[207] print.rlang_error*                                  
[208] print.rlang_fake_data_pronoun*                      
[209] print.rlang_lambda_function*                        
[210] print.rlang_message*                                
[211] print.rlang_trace*                                  
[212] print.rlang_warning*                                
[213] print.rlang_zap*                                    
[214] print.rle*                                          
[215] print.rlib_bytes*                                   
[216] print.rlib_error_3_0*                               
[217] print.rlib_trace_3_0*                               
[218] print.roman*                                        
[219] print.root_criterion*                               
[220] print.SavedPlots*                                   
[221] print.scalar*                                       
[222] print.sessionInfo*                                  
[223] print.shiny.tag*                                    
[224] print.shiny.tag.env*                                
[225] print.shiny.tag.list*                               
[226] print.shiny.tag.query*                              
[227] print.simple.list*                                  
[228] print.smooth.spline*                                
[229] print.socket*                                       
[230] print.src*                                          
[231] print.srcfile*                                      
[232] print.srcref*                                       
[233] print.stepfun*                                      
[234] print.stl*                                          
[235] print.StructTS*                                     
[236] print.subdir_tests*                                 
[237] print.summarize_CRAN_check_status*                  
[238] print.summary.aov*                                  
[239] print.summary.aovlist*                              
[240] print.summary.ecdf*                                 
[241] print.summary.glm*                                  
[242] print.summary.lm*                                   
[243] print.summary.loess*                                
[244] print.summary.manova*                               
[245] print.summary.nls*                                  
[246] print.summary.packageStatus*                        
[247] print.summary.ppr*                                  
[248] print.summary.prcomp*                               
[249] print.summary.princomp*                             
[250] print.summary.table*                                
[251] print.summary.warnings*                             
[252] print.summaryDefault*                               
[253] print.suppress_viewer*                              
[254] print.table*                                        
[255] print.tables_aov*                                   
[256] print.tbl*                                          
[257] print.terms*                                        
[258] print.transform*                                    
[259] print.trunc_mat*                                    
[260] print.ts*                                           
[261] print.Tsc                                           
[262] print.tskernel*                                     
[263] print.TukeyHSD*                                     
[264] print.tukeyline*                                    
[265] print.tukeysmooth*                                  
[266] print.undoc*                                        
[267] print.vctrs_bytes*                                  
[268] print.vctrs_sclr*                                   
[269] print.vctrs_unspecified*                            
[270] print.vctrs_vctr*                                   
[271] print.vignette*                                     
[272] print.warnings*                                     
[273] print.xfun_raw_string*                              
[274] print.xfun_rename_seq*                              
[275] print.xfun_strict_list*                             
[276] print.xgettext*                                     
[277] print.xngettext*                                    
[278] print.xtabs*                                        
see '?methods' for accessing help and source code</code></pre>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="http://localhost:3191/#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(<span class="at">generic.function=</span>print, <span class="at">class =</span> <span class="st">"htest"</span>)[<span class="dv">131</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "print.htest"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="http://localhost:3191/#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(<span class="at">class =</span> <span class="st">"htest"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] print
see '?methods' for accessing help and source code</code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="http://localhost:3191/#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I can only see print for the htest class?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<div class="modal__dialog micromodal-slide" id="quarto-log-error-modal" aria-hidden="true">
  <div class="modal__overlay" tabindex="2" data-micromodal-close="">
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="quarto-log-error-modal-title">
      <header class="modal__header">
        <h2 class="modal__title" id="quarto-log-error-modal-title">
          <i class="bi bi-exclamation-circle"></i>Error
        </h2>
        <button class="modal__close" aria-label="Close modal" data-micromodal-close=""></button>
      </header>
      <div class="modal__content" id="quarto-log-error-modal-content">
        <pre tabindex="1" id="quarto-log-error-display"></pre>
      </div>
      <footer class="modal__footer">
      </footer>
    </div>
  </div>
</div>
<style type="text/css">
#quarto-log-error-modal .modal__overlay {
  z-index: 5000;
}
#quarto-log-error-modal-content {
  border: 1px solid #dee2e6;
  overflow-y: auto;
}
#quarto-log-error-display {
  min-height: 100px;
  padding: 8px;
  margin-bottom: 0;
  font-family: monospace;
}
#quarto-log-error-display:focus {
  outline: none;
}
.modal__dialog {
  font-size: 16px;
}
.modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.4);
  display: flex;
  justify-content: center;
  align-items: center;
}
.modal__container {
  position: fixed;
  top: 80px;
  background-color: #fff;
  padding: 15px;
  padding-top: 10px;
  min-width: 500px;
  max-width: 90%;
  max-height: 90vh;
  border-radius: 4px;
  overflow-y: auto;
  box-sizing: border-box;
}
.modal__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.modal__title {
  margin-top: 0;
  margin-bottom: 0;
  font-weight: 600;
  border-bottom: none;
  padding-bottom: 10px;
  font-size: 20px;
  color: rgb(191,71,65);
  line-height: 1.25;
  box-sizing: border-box;
}
.modal__title .bi {
  margin-right: 7px;
}
.modal__close {
  background: transparent;
  border: 0;
  margin-bottom: 10px;
}
.modal__header .modal__close:before { content: "\2715"; }
.modal__content {
  margin-top: 0;
  margin-bottom: 0;
}
@keyframes mmfadeIn {
    from { opacity: 0; }
      to { opacity: 1; }
}
@keyframes mmfadeOut {
    from { opacity: 1; }
      to { opacity: 0; }
}
@keyframes mmslideIn {
  from { transform: translateY(15%); }
    to { transform: translateY(0); }
}
@keyframes mmslideOut {
    from { transform: translateY(0); }
    to { transform: translateY(-10%); }
}
.micromodal-slide {
  display: none;
}
.micromodal-slide.is-open {
  display: block;
}
.micromodal-slide[aria-hidden="false"] .modal__overlay {
  animation: mmfadeIn .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}
.micromodal-slide[aria-hidden="false"] .modal__container {
  animation: mmslideIn .3s cubic-bezier(0, 0, .2, 1);
}
.micromodal-slide[aria-hidden="true"] .modal__overlay {
  animation: mmfadeOut .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}
.micromodal-slide[aria-hidden="true"] .modal__container {
  animation: mmslideOut .3s cubic-bezier(0, 0, .2, 1);
}
.micromodal-slide .modal__container,
.micromodal-slide .modal__overlay {
  will-change: transform;
} 
</style>
<script type="text/javascript">
  window.backupDefine = window.define; window.define = undefined;
  /*  ansi_up.js
   *  author : Dru Nelson
   *  license : MIT
   *  http://github.com/drudru/ansi_up
   */
   (function (root, factory) {
      if (typeof define === 'function' && define.amd) {
          // AMD. Register as an anonymous module.
          define(['exports'], factory);
      } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
          // CommonJS
          factory(exports);
      } else {
          // Browser globals
          var exp = {};
          factory(exp);
          root.AnsiUp = exp.default;
      }
  }(this, function (exports) {
  "use strict";
  var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
      if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
      return cooked;
  };
  var PacketKind;
  (function (PacketKind) {
      PacketKind[PacketKind["EOS"] = 0] = "EOS";
      PacketKind[PacketKind["Text"] = 1] = "Text";
      PacketKind[PacketKind["Incomplete"] = 2] = "Incomplete";
      PacketKind[PacketKind["ESC"] = 3] = "ESC";
      PacketKind[PacketKind["Unknown"] = 4] = "Unknown";
      PacketKind[PacketKind["SGR"] = 5] = "SGR";
      PacketKind[PacketKind["OSCURL"] = 6] = "OSCURL";
  })(PacketKind || (PacketKind = {}));
  var AnsiUp = (function () {
      function AnsiUp() {
          this.VERSION = "5.1.0";
          this.setup_palettes();
          this._use_classes = false;
          this.bold = false;
          this.italic = false;
          this.underline = false;
          this.fg = this.bg = null;
          this._buffer = '';
          this._url_whitelist = { 'http': 1, 'https': 1 };
      }
      Object.defineProperty(AnsiUp.prototype, "use_classes", {
          get: function () {
              return this._use_classes;
          },
          set: function (arg) {
              this._use_classes = arg;
          },
          enumerable: false,
          configurable: true
      });
      Object.defineProperty(AnsiUp.prototype, "url_whitelist", {
          get: function () {
              return this._url_whitelist;
          },
          set: function (arg) {
              this._url_whitelist = arg;
          },
          enumerable: false,
          configurable: true
      });
      AnsiUp.prototype.setup_palettes = function () {
          var _this = this;
          this.ansi_colors =
              [
                  [
                      { rgb: [0, 0, 0], class_name: "ansi-black" },
                      { rgb: [187, 0, 0], class_name: "ansi-red" },
                      { rgb: [0, 187, 0], class_name: "ansi-green" },
                      { rgb: [187, 187, 0], class_name: "ansi-yellow" },
                      { rgb: [0, 0, 187], class_name: "ansi-blue" },
                      { rgb: [187, 0, 187], class_name: "ansi-magenta" },
                      { rgb: [0, 187, 187], class_name: "ansi-cyan" },
                      { rgb: [255, 255, 255], class_name: "ansi-white" }
                  ],
                  [
                      { rgb: [85, 85, 85], class_name: "ansi-bright-black" },
                      { rgb: [255, 85, 85], class_name: "ansi-bright-red" },
                      { rgb: [0, 255, 0], class_name: "ansi-bright-green" },
                      { rgb: [255, 255, 85], class_name: "ansi-bright-yellow" },
                      { rgb: [85, 85, 255], class_name: "ansi-bright-blue" },
                      { rgb: [255, 85, 255], class_name: "ansi-bright-magenta" },
                      { rgb: [85, 255, 255], class_name: "ansi-bright-cyan" },
                      { rgb: [255, 255, 255], class_name: "ansi-bright-white" }
                  ]
              ];
          this.palette_256 = [];
          this.ansi_colors.forEach(function (palette) {
              palette.forEach(function (rec) {
                  _this.palette_256.push(rec);
              });
          });
          var levels = [0, 95, 135, 175, 215, 255];
          for (var r = 0; r < 6; ++r) {
              for (var g = 0; g < 6; ++g) {
                  for (var b = 0; b < 6; ++b) {
                      var col = { rgb: [levels[r], levels[g], levels[b]], class_name: 'truecolor' };
                      this.palette_256.push(col);
                  }
              }
          }
          var grey_level = 8;
          for (var i = 0; i < 24; ++i, grey_level += 10) {
              var gry = { rgb: [grey_level, grey_level, grey_level], class_name: 'truecolor' };
              this.palette_256.push(gry);
          }
      };
      AnsiUp.prototype.escape_txt_for_html = function (txt) {
          return txt.replace(/[&<>"']/gm, function (str) {
              if (str === "&")
                  return "&amp;";
              if (str === "<")
                  return "&lt;";
              if (str === ">")
                  return "&gt;";
              if (str === "\"")
                  return "&quot;";
              if (str === "'")
                  return "&#x27;";
          });
      };
      AnsiUp.prototype.append_buffer = function (txt) {
          var str = this._buffer + txt;
          this._buffer = str;
      };
      AnsiUp.prototype.get_next_packet = function () {
          var pkt = {
              kind: PacketKind.EOS,
              text: '',
              url: ''
          };
          var len = this._buffer.length;
          if (len == 0)
              return pkt;
          var pos = this._buffer.indexOf("\x1B");
          if (pos == -1) {
              pkt.kind = PacketKind.Text;
              pkt.text = this._buffer;
              this._buffer = '';
              return pkt;
          }
          if (pos > 0) {
              pkt.kind = PacketKind.Text;
              pkt.text = this._buffer.slice(0, pos);
              this._buffer = this._buffer.slice(pos);
              return pkt;
          }
          if (pos == 0) {
              if (len == 1) {
                  pkt.kind = PacketKind.Incomplete;
                  return pkt;
              }
              var next_char = this._buffer.charAt(1);
              if ((next_char != '[') && (next_char != ']')) {
                  pkt.kind = PacketKind.ESC;
                  pkt.text = this._buffer.slice(0, 1);
                  this._buffer = this._buffer.slice(1);
                  return pkt;
              }
              if (next_char == '[') {
                  if (!this._csi_regex) {
                      this._csi_regex = rgx(__makeTemplateObject(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \u001B[                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \u001B[                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-\u001F:])              # anything illegal\n                        )\n                    "], ["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]));
                  }
                  var match = this._buffer.match(this._csi_regex);
                  if (match === null) {
                      pkt.kind = PacketKind.Incomplete;
                      return pkt;
                  }
                  if (match[4]) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  if ((match[1] != '') || (match[3] != 'm'))
                      pkt.kind = PacketKind.Unknown;
                  else
                      pkt.kind = PacketKind.SGR;
                  pkt.text = match[2];
                  var rpos = match[0].length;
                  this._buffer = this._buffer.slice(rpos);
                  return pkt;
              }
              if (next_char == ']') {
                  if (len < 4) {
                      pkt.kind = PacketKind.Incomplete;
                      return pkt;
                  }
                  if ((this._buffer.charAt(2) != '8')
                      || (this._buffer.charAt(3) != ';')) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  if (!this._osc_st) {
                      this._osc_st = rgxG(__makeTemplateObject(["\n                        (?:                         # legal sequence\n                          (\u001B\\)                    # ESC                           |                           # alternate\n                          (\u0007)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-\u0006]                 # anything illegal\n                          |                           # alternate\n                          [\b-\u001A]                 # anything illegal\n                          |                           # alternate\n                          [\u001C-\u001F]                 # anything illegal\n                        )\n                    "], ["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]));
                  }
                  this._osc_st.lastIndex = 0;
                  {
                      var match_1 = this._osc_st.exec(this._buffer);
                      if (match_1 === null) {
                          pkt.kind = PacketKind.Incomplete;
                          return pkt;
                      }
                      if (match_1[3]) {
                          pkt.kind = PacketKind.ESC;
                          pkt.text = this._buffer.slice(0, 1);
                          this._buffer = this._buffer.slice(1);
                          return pkt;
                      }
                  }
                  {
                      var match_2 = this._osc_st.exec(this._buffer);
                      if (match_2 === null) {
                          pkt.kind = PacketKind.Incomplete;
                          return pkt;
                      }
                      if (match_2[3]) {
                          pkt.kind = PacketKind.ESC;
                          pkt.text = this._buffer.slice(0, 1);
                          this._buffer = this._buffer.slice(1);
                          return pkt;
                      }
                  }
                  if (!this._osc_regex) {
                      this._osc_regex = rgx(__makeTemplateObject(["\n                        ^                           # beginning of line\n                                                    #\n                        \u001B]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\u001B\\)                  # ESC                           |                           # alternate\n                          (?:\u0007)                    # BEL (what xterm did)\n                        )\n                        ([ -~]+)              # TEXT capture\n                        \u001B]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\u001B\\)                  # ESC                           |                           # alternate\n                          (?:\u0007)                    # BEL (what xterm did)\n                        )\n                    "], ["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x20-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]));
                  }
                  var match = this._buffer.match(this._osc_regex);
                  if (match === null) {
                      pkt.kind = PacketKind.ESC;
                      pkt.text = this._buffer.slice(0, 1);
                      this._buffer = this._buffer.slice(1);
                      return pkt;
                  }
                  pkt.kind = PacketKind.OSCURL;
                  pkt.url = match[1];
                  pkt.text = match[2];
                  var rpos = match[0].length;
                  this._buffer = this._buffer.slice(rpos);
                  return pkt;
              }
          }
      };
      AnsiUp.prototype.ansi_to_html = function (txt) {
          this.append_buffer(txt);
          var blocks = [];
          while (true) {
              var packet = this.get_next_packet();
              if ((packet.kind == PacketKind.EOS)
                  || (packet.kind == PacketKind.Incomplete))
                  break;
              if ((packet.kind == PacketKind.ESC)
                  || (packet.kind == PacketKind.Unknown))
                  continue;
              if (packet.kind == PacketKind.Text)
                  blocks.push(this.transform_to_html(this.with_state(packet)));
              else if (packet.kind == PacketKind.SGR)
                  this.process_ansi(packet);
              else if (packet.kind == PacketKind.OSCURL)
                  blocks.push(this.process_hyperlink(packet));
          }
          return blocks.join("");
      };
      AnsiUp.prototype.with_state = function (pkt) {
          return { bold: this.bold, italic: this.italic, underline: this.underline, fg: this.fg, bg: this.bg, text: pkt.text };
      };
      AnsiUp.prototype.process_ansi = function (pkt) {
          var sgr_cmds = pkt.text.split(';');
          while (sgr_cmds.length > 0) {
              var sgr_cmd_str = sgr_cmds.shift();
              var num = parseInt(sgr_cmd_str, 10);
              if (isNaN(num) || num === 0) {
                  this.fg = this.bg = null;
                  this.bold = false;
                  this.italic = false;
                  this.underline = false;
              }
              else if (num === 1) {
                  this.bold = true;
              }
              else if (num === 3) {
                  this.italic = true;
              }
              else if (num === 4) {
                  this.underline = true;
              }
              else if (num === 22) {
                  this.bold = false;
              }
              else if (num === 23) {
                  this.italic = false;
              }
              else if (num === 24) {
                  this.underline = false;
              }
              else if (num === 39) {
                  this.fg = null;
              }
              else if (num === 49) {
                  this.bg = null;
              }
              else if ((num >= 30) && (num < 38)) {
                  this.fg = this.ansi_colors[0][(num - 30)];
              }
              else if ((num >= 40) && (num < 48)) {
                  this.bg = this.ansi_colors[0][(num - 40)];
              }
              else if ((num >= 90) && (num < 98)) {
                  this.fg = this.ansi_colors[1][(num - 90)];
              }
              else if ((num >= 100) && (num < 108)) {
                  this.bg = this.ansi_colors[1][(num - 100)];
              }
              else if (num === 38 || num === 48) {
                  if (sgr_cmds.length > 0) {
                      var is_foreground = (num === 38);
                      var mode_cmd = sgr_cmds.shift();
                      if (mode_cmd === '5' && sgr_cmds.length > 0) {
                          var palette_index = parseInt(sgr_cmds.shift(), 10);
                          if (palette_index >= 0 && palette_index <= 255) {
                              if (is_foreground)
                                  this.fg = this.palette_256[palette_index];
                              else
                                  this.bg = this.palette_256[palette_index];
                          }
                      }
                      if (mode_cmd === '2' && sgr_cmds.length > 2) {
                          var r = parseInt(sgr_cmds.shift(), 10);
                          var g = parseInt(sgr_cmds.shift(), 10);
                          var b = parseInt(sgr_cmds.shift(), 10);
                          if ((r >= 0 && r <= 255) && (g >= 0 && g <= 255) && (b >= 0 && b <= 255)) {
                              var c = { rgb: [r, g, b], class_name: 'truecolor' };
                              if (is_foreground)
                                  this.fg = c;
                              else
                                  this.bg = c;
                          }
                      }
                  }
              }
          }
      };
      AnsiUp.prototype.transform_to_html = function (fragment) {
          var txt = fragment.text;
          if (txt.length === 0)
              return txt;
          txt = this.escape_txt_for_html(txt);
          if (!fragment.bold && !fragment.italic && !fragment.underline && fragment.fg === null && fragment.bg === null)
              return txt;
          var styles = [];
          var classes = [];
          var fg = fragment.fg;
          var bg = fragment.bg;
          if (fragment.bold)
              styles.push('font-weight:bold');
          if (fragment.italic)
              styles.push('font-style:italic');
          if (fragment.underline)
              styles.push('text-decoration:underline');
          if (!this._use_classes) {
              if (fg)
                  styles.push("color:rgb(" + fg.rgb.join(',') + ")");
              if (bg)
                  styles.push("background-color:rgb(" + bg.rgb + ")");
          }
          else {
              if (fg) {
                  if (fg.class_name !== 'truecolor') {
                      classes.push(fg.class_name + "-fg");
                  }
                  else {
                      styles.push("color:rgb(" + fg.rgb.join(',') + ")");
                  }
              }
              if (bg) {
                  if (bg.class_name !== 'truecolor') {
                      classes.push(bg.class_name + "-bg");
                  }
                  else {
                      styles.push("background-color:rgb(" + bg.rgb.join(',') + ")");
                  }
              }
          }
          var class_string = '';
          var style_string = '';
          if (classes.length)
              class_string = " class=\"" + classes.join(' ') + "\"";
          if (styles.length)
              style_string = " style=\"" + styles.join(';') + "\"";
          return "<span" + style_string + class_string + ">" + txt + "</span>";
      };
      ;
      AnsiUp.prototype.process_hyperlink = function (pkt) {
          var parts = pkt.url.split(':');
          if (parts.length < 1)
              return '';
          if (!this._url_whitelist[parts[0]])
              return '';
          var result = "<a href=\"" + this.escape_txt_for_html(pkt.url) + "\">" + this.escape_txt_for_html(pkt.text) + "</a>";
          return result;
      };
      return AnsiUp;
  }());
  function rgx(tmplObj) {
      var subst = [];
      for (var _i = 1; _i < arguments.length; _i++) {
          subst[_i - 1] = arguments[_i];
      }
      var regexText = tmplObj.raw[0];
      var wsrgx = /^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm;
      var txt2 = regexText.replace(wsrgx, '');
      return new RegExp(txt2);
  }
  function rgxG(tmplObj) {
      var subst = [];
      for (var _i = 1; _i < arguments.length; _i++) {
          subst[_i - 1] = arguments[_i];
      }
      var regexText = tmplObj.raw[0];
      var wsrgx = /^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm;
      var txt2 = regexText.replace(wsrgx, '');
      return new RegExp(txt2, 'g');
  }
      Object.defineProperty(exports, "__esModule", { value: true });
      exports.default = AnsiUp;
  }));
  // micromodal: https://github.com/Ghosh/micromodal
  !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).MicroModal=t()}(this,(function(){"use strict";function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var n,i,a,r,s,l=(n=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],i=function(){function o(e){var n=e.targetModal,i=e.triggers,a=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,l=e.onClose,c=void 0===l?function(){}:l,d=e.openTrigger,u=void 0===d?"data-micromodal-trigger":d,f=e.closeTrigger,h=void 0===f?"data-micromodal-close":f,v=e.openClass,g=void 0===v?"is-open":v,m=e.disableScroll,b=void 0!==m&&m,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,E=void 0!==w&&w,k=e.awaitOpenAnimation,M=void 0!==k&&k,A=e.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:b,openTrigger:u,closeTrigger:h,openClass:g,onShow:s,onClose:c,awaitCloseAnimation:E,awaitOpenAnimation:M,disableFocus:p},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a,r;return i=o,(a=[{key:"registerTriggers",value:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];o.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var o=function t(){e.modal.removeEventListener("animationend",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener("animationend",o,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener("animationend",(function e(){t.classList.remove(o),t.removeEventListener("animationend",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var t=document.querySelector("body");switch(e){case"enable":Object.assign(t.style,{overflow:""});break;case"disable":Object.assign(t.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var e=this.modal.querySelectorAll(n);return Array.apply(void 0,t(e))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var o=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&t[0].focus()}}}},{key:"retainFocus",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&o===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),r&&e(i,r),o}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},s=function(e,t){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var o=Object.assign({},{openTrigger:"data-micromodal-trigger"},e),n=t(document.querySelectorAll("[".concat(o.openTrigger,"]"))),r=function(e,t){var o=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)})),o}(n,o.openTrigger);if(!0!==o.debugMode||!1!==s(n,r))for(var l in r){var c=r[l];o.targetModal=l,o.triggers=t(c),a=new i(o)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a&&a.removeEventListeners(),(a=new i(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});return"undefined"!=typeof window&&(window.MicroModal=l),l}));  
  window.define = window.backupDefine; window.backupDefine = undefined;
  </script>
<script type="text/javascript">
  (function () {
    // forward keydown events so shortcuts can work in vscode, see:
    // https://github.com/microsoft/vscode/issues/65452#issuecomment-586485815
    if (window.parent.postMessage) {
      window.document.addEventListener('keydown', e => {
        const event = {
          type: "keydown",
          data: {
            altKey: e.altKey,
            code: e.code,
            ctrlKey: e.ctrlKey,
            isComposing: e.isComposing,
            key: e.key,
            location: e.location,
            metaKey: e.metaKey,
            repeat: e.repeat,
            shiftKey: e.shiftKey
          }
        };
        window.parent.postMessage(event, '*');
      });
    }
    // listen for execCommand messages
    window.addEventListener("message", function (event) {
      if (event.data.type === "devhost-exec-command") {
        window.document.execCommand(event.data.data);
      } 
    }, true);
    const logEntries = new Array(1000);
    logEntries.offset = 0;
    function recordLogEntry(entry) {
      logEntries[logEntries.offset++] = entry;
      logEntries.offset %= logEntries.length;
    }
    function getLogEntry(i) { // backwards, 0 is most recent
        return logEntries[(logEntries.offset - 1 - i + logEntries.length) % logEntries.length];
    }
    const protocol = window.location.protocol === "https:" ? "wss:" : "ws:";
    let path = window.location.pathname;
    if (!/\/$/.test(path)) path += "/";
    const devServerSocket = new WebSocket(protocol + "//" + window.location.host + path);
    let reloadPage = true;
    addEventListener("beforeunload", () => {
      // don't reload page in case of navigation events
      reloadPage = false;
    })
    devServerSocket.onopen = () => {
      console.log('Socket connection open. Listening for events.');
      // if the socket closes for any reason (e.g. this occurs in electron apps
      // when the computer suspends) then reload to reestablish the connection 
      devServerSocket.onclose = () => {
        if (reloadPage) {
          console.log('Socket connection closed. Reloading.');
          window.location.reload(true);
        }
      }
    };
    // append for errors that occur within the error window
    let lastError = 0;
    const kErrorWindow = 2500;
    function showError(msg) {
      const ansiUp = new AnsiUp
      const html = ansiUp.ansi_to_html(msg.trim());
      const display = document.getElementById("quarto-log-error-display");
      if (display.innerHTML && ((Date.now() - lastError) < kErrorWindow)) {
        display.innerHTML = display.innerHTML + "<br/>" +  html;
      } else {
        display.innerHTML = html
      }
      lastError = Date.now()
      MicroModal.show('quarto-log-error-modal', {
        awaitCloseAnimation: true,
        onClose: () => { display.innerHTML = ""; }
      });
      // post message to parent indicating we had an error
      if (window.parent.postMessage) {
        window.parent.postMessage({
          type: "error",
          msg: msg,
        }, "*");
      }
    }
    // see if there is already an error to show
    const renderError = document.getElementById("quarto-render-error");
    if (renderError) {
      showError(renderError.innerHTML.trim());
    }
    const normalizeTarget = (target) => {
      return target.replace(/\/index\.html/, "/")
    };
    devServerSocket.onmessage = (msg) => {
      if (msg.data.startsWith('reload')) {
        let target = normalizeTarget(msg.data.replace(/^reload/, ""));
        // prepend proxy path to target if we have one
        if (target) {
          const pathPrefix = 
            window.location.pathname.match(/^.*?\/p\/\w+\//) ||
            window.location.pathname.match(/^.*?\/user\/[\w\d]+\/proxy\/\d+\//);
          if (pathPrefix) {
            target = pathPrefix + target.slice(1);
          }
        }
        if (target && (target !== normalizeTarget(window.location.pathname))) {
          window.location.replace(target);
        } else {
          window.location.reload(true);
        }
      } else if (msg.data.startsWith('log:')) {
        const ansiUp = new AnsiUp
        const log = JSON.parse(msg.data.substr(4));
        recordLogEntry(log);
        if (log.levelName === "ERROR") {
          showError(log.msgFormatted)
        } else {
          // see if there is a knitr error to report
          const kExecutionHalted = "Execution halted";
          if (log.msg.indexOf(kExecutionHalted) !== -1) {
            // scan backwards for beginning of error
            const errorEntries = [getLogEntry(0).msgFormatted];
            for (let i=1; i<logEntries.length; i++) {
              const logEntry = getLogEntry(i);
              if (logEntry) {
                errorEntries.unshift(logEntry.msgFormatted);
                if (logEntry.msg.indexOf("Quitting from lines") !== -1) {
                  showError(errorEntries.join(""));
                  break;
                } else if (logEntry.msg.indexOf(kExecutionHalted) !== -1) {
                  break;
                }
              } else {
                break;
              }
            }
          }
        }
      }
    };
  })();
</script>

<script type="text/javascript">
  if (window.parent.postMessage) {
    // wait for message providing confirmation we are in a devhost
    window.addEventListener("message", function (event) {
      if (event.data.type === "devhost-init") {
        window.quartoDevhost = {
          openInputFile: function (line, column, highlight) {
            window.parent.postMessage({
              type: "openfile",
              file: "H:\Dokumenter\PhD\Statistik\rprogramming\code\rprogramminglecture2.qmd",
              line: line,
              column: column,
              highlight: highlight
            }, event.origin);
          }
        };
      } else if (event.data.type === "goback") {
        window.history.back()
      } else if (event.data.type === "goforward") {
        window.history.forward()
      }
    }, true);
    // notify host of navigation (e.g. for 'pop out' command)
    window.parent.postMessage({
      type: "navigate",
      href: window.location.href,
      file: "H:\Dokumenter\PhD\Statistik\rprogramming\code\rprogramminglecture2.qmd"
    }, "*");
  }
</script>
</body></html>